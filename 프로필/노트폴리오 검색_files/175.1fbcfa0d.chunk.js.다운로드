(this.webpackJsonpwaffle=this.webpackJsonpwaffle||[]).push([[175],{1314:function(Tt,Q,e){"use strict";e.r(Q);var o=e(0),z=e(195),Y=e(460),k=e(1237),G=e(1258),Z=e(1266),q=e(1269),_=e(1260),E=e(3),i=e(13),l=e(2),a=e(6),w=e(1235);const tt=()=>{const p=Object(w.a)();return Object(o.jsxs)(et,{children:[Object(o.jsxs)(ot,{children:[Object(o.jsxs)("span",{className:"search-word",children:["'",p.search,"'"]}),"\xA0",window.getCodeText("portfolio.search.kelleyabbott")]}),Object(o.jsx)(q.a,{page:a.X.SEARCH}),Object(o.jsx)(_.a,{page:a.X.SEARCH})]})},et=E.c.section`
  width: 100%;
  padding: 16px 64px 16px;
  box-sizing: border-box;
  border-bottom: 1px solid ${l.fb.Color.gray300};

  ${i.p} {
    padding: 48px 0 18px;
  }

  ${i.l} {
    padding: 32px 0 18px;
  }
`,ot=E.c.div`
  text-align: center;
  align-items: center;
  margin-bottom: 40px;
  ${l.fb.Typography.medium};
  ${l.fb.Typography.h2};

  * {
    word-break: keep-all;
  }

  .search-word {
    ${l.fb.Typography.bold};
  }

  ${i.p} {
    padding: 0 24px 24px;
    ${l.fb.Typography.h3};
  }

  ${i.l} {
    margin-bottom: 24px;
    ${l.fb.Typography.h4};
  }
`;var rt=tt,v=e(7),I=e(5),nt=e(269),M=e(39),R=e(56),it=e(458),c=e(1),W=e(9),st=e(37),K=e(421),at=e(23),lt=e(157),H=e(132),ct=e(46),U=e(27),dt=e(59),pt=e(40);const ft=()=>{const p=Object(W.c)(),j=Object(pt.g)(),u=Object(w.a)(),[b,h]=Object(c.useState)(u.search||"");function r(S){const x=S.target.value;h(x)}function C(){u.search!==b&&p(K.a.setPortfolioListQueryParams({...u,search:b}))}return Object(o.jsxs)(ut,{children:[Object(o.jsx)(dt.a,{className:"move-back-btn",iconType:"arrowLeft24",onClick:()=>j.goBack()}),Object(o.jsx)(U.a,{type:"search",className:"search-icon",color:"#444444"}),Object(o.jsx)(l.yb,{inputProps:{value:b,onKeyUp:S=>{S.key==="Enter"?C():S.key==="Escape"&&h(b||"")}},onChange:r,styles:E.b`
          display: flex;
          width: 100%;

          &.focus {
            border-radius: 56px;
            border: 1px solid ${l.fb.Color.mint500};
          }
        `}),Object(o.jsx)(U.a,{type:"roundClose24",className:"search-init-btn",color:"#cccccc",onClick:()=>h("")})]})},ut=E.c.section`
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: center;
  position: relative;
  height: 144px;
  padding: 0 64px;
  background: linear-gradient(
    180deg,
    ${l.fb.Color.gray100} 50%,
    ${l.fb.Color.system.white} 50%
  );

  .move-back-btn {
    display: none;
  }

  .search-icon {
    position: absolute;
    left: 84px;
  }

  .search-init-btn {
    position: absolute;
    right: 84px;
    cursor: pointer;
  }

  input {
    width: 100%;
    height: 64px;
    padding: 0 64px;
    border-radius: 56px;
    border: solid 1px #e4e8e8;
    background-color: #ffffff;
    color: ${l.fb.Color.gray800};
    ${l.fb.Typography.subtitle2};
    ${l.fb.Typography.medium};

    &:focus {
      outline: none;
    }
  }

  ${i.p} {
    height: 60px;
    background: ${l.fb.Color.system.white};
    border-bottom: 1px solid ${l.fb.Color.gray200};

    .move-back-btn {
      display: block;
      position: absolute;
      left: 24px;
    }

    .search-icon {
      width: 20px;
      height: 20px;
      left: 76px;
    }

    .search-init-btn {
      width: 20px;
      height: 20px;
      right: 76px;
    }

    input {
      height: 36px;
      padding: 0 40px;
      background: ${l.fb.Color.gray100};
      ${l.fb.Typography.body3};
    }
  }

  ${i.l} {
    padding: 0 56px;

    .move-back-btn {
      left: 16px;
    }

    .search-icon {
      left: 68px;
    }

    .search-init-btn {
      right: 68px;
    }
  }
`;var ht=ft;const gt=()=>{var p,j;const u=Object(nt.a)(),b=Object(W.c)(),h=Object(at.b)(),r=Object(w.a)(),[C,S]=Object(c.useState)([]),[x,J]=Object(c.useState)(void 0),$=Object(c.useRef)(null),yt={root:null,rootMargin:"0px",threshold:1},s=Object(R.k)(),[m,y]=Object(c.useState)(s.portfolioX7),[Ot]=Object(c.useState)({state:a.jb.PUBLIC,limit:s.perPage}),{getPortfolioList:g,getJobBannerListCount:Pt}=mt({...Ot,search:r.search,category:(r==null?void 0:r.keywords)==="portfolio.category.jaredhansenv"||r==null?void 0:r.keywords,orderBy:r.type===a.hb.PICK?a.ib.PICK:r.orderBy,publishedAt:r.publishedAt,pick:r.type===a.hb.PICK?a.g.TRUE:void 0,follow:r.type===a.hb.FOLLOW?a.g.TRUE:void 0},"/search"),Ct=bt({setAdBannerList:S}),O=Object(c.useMemo)(()=>{var t,f;return((f=(t=g.data)==null?void 0:t.pages)==null?void 0:f.map(P=>P.list).filter(lt.a).flat(1))||[]},[g.data,r.type]),D=Object(c.useMemo)(()=>{const t=O.length||0,f=s.perPage*s.loginInducementCount;return h===""&&t>=f},[h,O]),St=Object(c.useMemo)(()=>{const t=window.innerWidth;return t<=i.k.portfolioX1?s.portfolioX1:t<=i.k.portfolioX2?s.portfolioX2:t<=i.k.portfolioX3?s.portfolioX3:t<=i.k.portfolioX4?s.portfolioX4:t<=i.k.portfolioX5?s.portfolioX5:t<=i.k.portfolioX6?s.portfolioX6:s.portfolioX7},[]);Object(c.useEffect)(()=>{Math.ceil((O.length+C.length-m.adIndex)/s.adPerCount)>C.length&&Ct.getDisplayBanner.refetch()},[O,m.adIndex]);const L=Object(c.useMemo)(()=>{const t=m!=null?m:St;return Object(R.g)(O,C,t,s)},[O,m,C]),V=Object(c.useMemo)(()=>(L==null?void 0:L.slice(0,m.topIndex))||[],[L,m]),F=Object(c.useMemo)(()=>(L==null?void 0:L.slice(m.topIndex))||[],[L,m]);function N(){const t=window.innerWidth;if(t<=i.k.portfolioX1){y(s.portfolioX1);return}else if(t<=i.k.portfolioX2){y(s.portfolioX2);return}else if(t<=i.k.portfolioX3){y(s.portfolioX3);return}else if(t<=i.k.portfolioX4){y(s.portfolioX4);return}else if(t<=i.k.portfolioX5){y(s.portfolioX5);return}else if(t<=i.k.portfolioX6){y(s.portfolioX6);return}else{y(s.portfolioX7);return}}function Lt(t,f,P,n){var X,T,A,B;if(document.title=t,document.querySelector('meta[property="og:title"]'))(X=document.querySelector('meta[property="og:title"]'))==null||X.setAttribute("content",t);else{const d=document.createElement("meta");d.setAttribute("property","og:title"),d.setAttribute("content",t),document.getElementsByTagName("head")[0].appendChild(d)}if(document.querySelector('meta[name="description"]'))(T=document.querySelector('meta[name="description"]'))==null||T.setAttribute("content",f);else{const d=document.createElement("meta");d.setAttribute("name","description"),d.setAttribute("content",f),document.getElementsByTagName("head")[0].appendChild(d)}if(document.querySelector('meta[name="keywords"]'))(A=document.querySelector('meta[name="keywords"]'))==null||A.setAttribute("content",P);else{const d=document.createElement("meta");d.setAttribute("name","keywords"),d.setAttribute("content",P),document.getElementsByTagName("head")[0].appendChild(d)}if(document.querySelector('meta[property="og:url"]'))(B=document.querySelector('meta[property="og:url"]'))==null||B.setAttribute("content",n);else{const d=document.createElement("meta");d.setAttribute("property","og:url"),d.setAttribute("content",n),document.getElementsByTagName("head")[0].appendChild(d)}}Object(c.useEffect)(()=>(N(),window.addEventListener("resize",N,{capture:!0}),()=>{window.removeEventListener("resize",N,{capture:!0})}),[]);function Et(t){t[0].isIntersecting&&!D&&!x&&g.fetchNextPage()}return Object(c.useEffect)(()=>{const t=new IntersectionObserver(Et,yt);return $.current&&t.observe($.current),()=>t.disconnect()},[D]),Object(c.useEffect)(()=>{var t,f,P;if(x)return;const n=(P=(f=(t=g==null?void 0:g.data)==null?void 0:t.pages)==null?void 0:f[0])==null?void 0:P.seoItem;if(u){const X=Object(H.replaceMetaText)((n==null?void 0:n.title)||a.Q.title),T=Object(H.replaceMetaText)((n==null?void 0:n.desc)||a.Q.desc),A=(n==null?void 0:n.image)||window.getCodeText("seo.portfolio.jenniferreilly"),B=a.Q.ogImageWidth,d=a.Q.ogImageHeight,It=a.Q.keyword,Xt=window.REACT_APP_WAFFLE_HTTP_ADDRESS+((n==null?void 0:n.seoKey)||"");Object(it.a)(X,T,A,B,d,It,Xt)}else Lt((n==null?void 0:n.title)||a.Q.title,(n==null?void 0:n.desc)||a.Q.desc,(n==null?void 0:n.keyword)||a.Q.keyword,n!=null&&n.seoKey?window.REACT_APP_WAFFLE_HTTP_ADDRESS+(n==null?void 0:n.seoKey):a.Q.url)},[(j=(p=g==null?void 0:g.data)==null?void 0:p.pages)==null?void 0:j[0].seoItem,x]),Object(c.useEffect)(()=>{b(K.a.setPrevPortfolioFilters(r))},[r]),Object(o.jsxs)(vt,{children:[Object(o.jsx)(ht,{}),Object(o.jsx)(rt,{}),Object(o.jsx)("div",{className:"container-wrap",children:V&&Object(o.jsx)(k.a,{combinedPortfolios:V,viewerPortfolioID:x,onChangeViewerPortfolioID:J})}),!!F.length&&Object(o.jsxs)(o.Fragment,{children:[!!Pt.data&&Object(o.jsx)(Z.a,{page:a.X.SEARCH}),Object(o.jsx)("div",{className:"container-wrap",children:F&&Object(o.jsx)(k.a,{combinedPortfolios:F,viewerPortfolioID:x,onChangeViewerPortfolioID:J})})]}),g.isLoading||g.isFetching&&Object(o.jsx)("div",{className:"circle-progress",children:Object(o.jsx)(ct.a,{width:"20px",height:"20px"})}),!g.isLoading&&O.length===0&&Object(o.jsx)(Y.a,{text:Object(o.jsx)(l.ub,{id:"portfolio-list.empty.mikemcdermott"})}),D&&Object(o.jsx)(G.a,{}),Object(o.jsx)("div",{ref:$})]})},bt=p=>{const{isTablet:j}=Object(st.a)(),u=j?I.c.MOBILE:I.c.PC;return{getDisplayBanner:Object(v.d)(()=>v.a.Banner.getBannerListCuration({params:{queries:{count:2,active:[u,I.b.ALL],spot:[M.b.DISPLAY],device:u}},options:{onSuccess:h=>{p.setAdBannerList(r=>[...r,...h.list||[]])}}}))}},mt=(p,j)=>{const u=Object(v.d)(()=>v.a.Banner.getBannerListCount({params:{queries:{spot:[M.b.JOB_PAY],visible:I.h.TRUE}},options:{}})),b=Object(v.d)(()=>v.a.Portfolio.Portfolio.getPortfolioListCount({params:{queries:{...p}},options:{onError:r=>{console.log(r)}}})),h=Object(v.d)(()=>v.a.Portfolio.Portfolio.getPortfolioListInfinite({params:{headers:{"X-SEO-key":j},queries:{...p}},options:{onError:r=>{console.log(r)}}}));return{getJobBannerListCount:u,getPortfolioListCount:b,getPortfolioList:h}},vt=E.c.section`
  width: 100%;
  flex-shrink: 0;
  min-height: calc(100vh + 300px);

  .container-wrap {
    padding: 0 64px;
    position: relative;

    ${i.p} {
      padding: 0 24px;
    }

    ${i.m} {
      padding: 0 16px;
    }
  }

  .circle-progress {
    position: relative;
    width: 100%;
    left: 50%;
    bottom: 37px;
  }
`;var jt=gt;const xt=()=>Object(o.jsx)(z.a,{children:Object(o.jsx)(jt,{})});var At=Q.default=xt}}]);
