(this.webpackJsonpwaffle=this.webpackJsonpwaffle||[]).push([[52],{1058:function(m){m.exports=JSON.parse(`{"name":"launchdarkly-react-client-sdk","version":"3.0.6","description":"LaunchDarkly SDK for React","author":"LaunchDarkly <team@launchdarkly.com>","license":"Apache-2.0","keywords":["launchdarkly","launch","darkly","react","sdk","bindings"],"main":"lib/index.js","types":"lib/index.d.ts","files":["lib","src","!**/*.test.*","!**/__snapshots__"],"scripts":{"test":"jest","test:junit":"jest --ci --reporters=default --reporters=jest-junit","build":"rimraf lib/* && tsc && mv lib/src/* lib && rimraf lib/package.json lib/src lib/*.test.*","lint":"tslint -p tsconfig.json 'src/**/*.ts*'","lint:all":"npm run lint","check-typescript":"tsc","prepublishOnly":"npm run build","prettier":"prettier --write 'src/*.@(js|ts|tsx|json|css)'","link-dev":"./link-dev.sh","check":"npm i && npm run prettier && npm run lint && tsc && npm run test"},"repository":{"type":"git","url":"git://github.com/launchdarkly/react-client-sdk.git"},"homepage":"https://github.com/launchdarkly/react-client-sdk","devDependencies":{"@testing-library/jest-dom":"^5.16.4","@testing-library/react":"^13.0.1","@types/hoist-non-react-statics":"^3.3.1","@types/jest":"^27.0.3","@types/lodash.camelcase":"^4.3.6","@types/prop-types":"^15.7.4","@types/react":"^18.0.3","@types/react-dom":"^18.0.0","@types/react-test-renderer":"^18.0.0","jest":"^27.4.4","jest-environment-jsdom":"^27.4.4","jest-environment-jsdom-global":"^3.0.0","jest-junit":"^13.0.0","prettier":"^1.18.2","prop-types":"^15.7.2","react":"^18.0.0","react-dom":"^18.0.0","react-test-renderer":"^18.0.0","rimraf":"^3.0.0","ts-jest":"^27.1.1","tslint":"^6.1.3","tslint-config-prettier":"^1.18.0","tslint-plugin-prettier":"^2.3.0","typescript":"^4.5.3"},"dependencies":{"hoist-non-react-statics":"^3.3.2","launchdarkly-js-client-sdk":"^3.1.3","lodash.camelcase":"^4.3.0"},"peerDependencies":{"react":"^16.6.3 || ^17.0.0 || ^18.0.0","react-dom":"^16.8.4 || ^17.0.0 || ^18.0.0"}}`)},1059:function(m,n,c){"use strict";var j=this&&this.__createBinding||(Object.create?function(e,u,a,t){t===void 0&&(t=a),Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[a]}})}:function(e,u,a,t){t===void 0&&(t=a),e[t]=u[a]}),O=this&&this.__setModuleDefault||(Object.create?function(e,u){Object.defineProperty(e,"default",{enumerable:!0,value:u})}:function(e,u){e.default=u}),g=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var u={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&j(u,e,a);return O(u,e),u},p=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.withLDProvider=void 0;const f=g(c(1)),_=c(402),o=p(c(702)),d=p(c(230));function l(e){return function(a){const{reactOptions:t}=e,i=Object.assign(Object.assign({},_.defaultReactOptions),t),s=Object.assign(Object.assign({},e),{reactOptions:i});function r(y){return f.createElement(o.default,Object.assign({},s),f.createElement(a,Object.assign({},y)))}return(0,d.default)(r,a),r}}n.withLDProvider=l,n.default=l},1060:function(m,n,c){"use strict";var j=this&&this.__createBinding||(Object.create?function(t,i,s,r){r===void 0&&(r=s),Object.defineProperty(t,r,{enumerable:!0,get:function(){return i[s]}})}:function(t,i,s,r){r===void 0&&(r=s),t[r]=i[s]}),O=this&&this.__setModuleDefault||(Object.create?function(t,i){Object.defineProperty(t,"default",{enumerable:!0,value:i})}:function(t,i){t.default=i}),g=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var i={};if(t!=null)for(var s in t)s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)&&j(i,t,s);return O(i,t),i},p=this&&this.__awaiter||function(t,i,s,r){function y(v){return v instanceof s?v:new s(function(h){h(v)})}return new(s||(s=Promise))(function(v,h){function D(b){try{F(r.next(b))}catch(P){h(P)}}function C(b){try{F(r.throw(b))}catch(P){h(P)}}function F(b){b.done?v(b.value):y(b.value).then(D,C)}F((r=r.apply(t,i||[])).next())})},f=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});const _=g(c(1)),o=c(402),d=c(315),l=f(c(703)),e=c(448),u=f(c(705));function a(t){return p(this,void 0,void 0,function*(){const{clientSideID:i,flags:s,options:r,reactOptions:y}=t,v=Object.assign(Object.assign({},o.defaultReactOptions),y),{ldClient:h,flags:D,error:C}=yield(0,l.default)(i,(0,e.getContextOrUser)(t),r,s),F=r!=null&&r.bootstrap&&r.bootstrap!=="localStorage"?r.bootstrap:D;return({children:P})=>{const[w,R]=(0,_.useState)(()=>Object.assign({unproxiedFlags:F},(0,u.default)(h,F,v,s)));(0,_.useEffect)(()=>{function M(L){const K=(0,e.getFlattenedFlagsFromChangeset)(L,s);Object.keys(K).length>0&&R(({unproxiedFlags:U})=>{const S=Object.assign(Object.assign({},U),K);return Object.assign({unproxiedFlags:S},(0,u.default)(h,S,v,s))})}return h.on("change",M),function(){h.off("change",M)}},[]);const{flags:E,flagKeyMap:B}=w;return _.default.createElement(d.Provider,{value:{flags:E,flagKeyMap:B,ldClient:h,error:C}},P)}})}n.default=a},1061:function(m,n,c){"use strict";var j=this&&this.__createBinding||(Object.create?function(o,d,l,e){e===void 0&&(e=l),Object.defineProperty(o,e,{enumerable:!0,get:function(){return d[l]}})}:function(o,d,l,e){e===void 0&&(e=l),o[e]=d[l]}),O=this&&this.__setModuleDefault||(Object.create?function(o,d){Object.defineProperty(o,"default",{enumerable:!0,value:d})}:function(o,d){o.default=d}),g=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var d={};if(o!=null)for(var l in o)l!=="default"&&Object.prototype.hasOwnProperty.call(o,l)&&j(d,o,l);return O(d,o),d};Object.defineProperty(n,"__esModule",{value:!0});const p=g(c(1)),f=c(315);function _(o={clientOnly:!1}){return function(l){return e=>p.createElement(f.Consumer,null,({flags:u,ldClient:a})=>o.clientOnly?p.createElement(l,Object.assign({ldClient:a},e)):p.createElement(l,Object.assign({flags:u,ldClient:a},e)))}}n.default=_},1062:function(m,n,c){"use strict";var j=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(n,"__esModule",{value:!0});const O=c(1),g=j(c(315)),p=()=>{const{flags:f}=(0,O.useContext)(g.default);return f};n.default=p},1063:function(m,n,c){"use strict";var j=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(n,"__esModule",{value:!0});const O=c(1),g=j(c(315)),p=()=>{const{ldClient:f}=(0,O.useContext)(g.default);return f};n.default=p},1064:function(m,n,c){"use strict";var j=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(n,"__esModule",{value:!0});const O=c(1),g=j(c(315));function p(){const{error:f}=(0,O.useContext)(g.default);return f}n.default=p},296:function(m,n,c){"use strict";var j=this&&this.__createBinding||(Object.create?function(a,t,i,s){s===void 0&&(s=i),Object.defineProperty(a,s,{enumerable:!0,get:function(){return t[i]}})}:function(a,t,i,s){s===void 0&&(s=i),a[s]=t[i]}),O=this&&this.__exportStar||function(a,t){for(var i in a)i!=="default"&&!Object.prototype.hasOwnProperty.call(t,i)&&j(t,a,i)},g=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(n,"__esModule",{value:!0}),n.withLDConsumer=n.withLDProvider=n.useLDClientError=n.useLDClient=n.useFlags=n.camelCaseKeys=n.asyncWithLDProvider=n.LDProvider=void 0;const p=g(c(702));n.LDProvider=p.default;const f=g(c(1059));n.withLDProvider=f.default;const _=g(c(1060));n.asyncWithLDProvider=_.default;const o=g(c(1061));n.withLDConsumer=o.default;const d=g(c(1062));n.useFlags=d.default;const l=g(c(1063));n.useLDClient=l.default;const e=g(c(1064));n.useLDClientError=e.default;const u=c(448);Object.defineProperty(n,"camelCaseKeys",{enumerable:!0,get:function(){return u.camelCaseKeys}}),O(c(402),n)},315:function(m,n,c){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Consumer=n.Provider=void 0;const O=(0,c(1).createContext)({flags:{},flagKeyMap:{},ldClient:void 0}),{Provider:g,Consumer:p}=O;n.Provider=g,n.Consumer=p,n.default=O},402:function(m,n,c){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.defaultReactOptions=void 0,n.defaultReactOptions={useCamelCaseFlagKeys:!0,sendEventsOnFlagRead:!0}},448:function(m,n,c){"use strict";var j=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(n,"__esModule",{value:!0}),n.fetchFlags=n.getFlattenedFlagsFromChangeset=n.camelCaseKeys=n.getContextOrUser=void 0;const O=j(c(704)),g=o=>{var d;return(d=o.context)!==null&&d!==void 0?d:o.user};n.getContextOrUser=g;const p=o=>{const d={};for(const l in o)l.indexOf("$")!==0&&(d[(0,O.default)(l)]=o[l]);return d};n.camelCaseKeys=p;const f=(o,d)=>{const l={};for(const e in o)(!d||d[e]!==void 0)&&(l[e]=o[e].current);return l};n.getFlattenedFlagsFromChangeset=f;const _=(o,d)=>{const l=o.allFlags();return d?Object.keys(d).reduce((e,u)=>(e[u]=Object.prototype.hasOwnProperty.call(l,u)?l[u]:d[u],e),{}):l};n.fetchFlags=_,n.camelCaseKeys.camelCaseKeys=n.camelCaseKeys,n.default={camelCaseKeys:n.camelCaseKeys,getFlattenedFlagsFromChangeset:n.getFlattenedFlagsFromChangeset,fetchFlags:n.fetchFlags}},702:function(m,n,c){"use strict";var j=this&&this.__createBinding||(Object.create?function(t,i,s,r){r===void 0&&(r=s),Object.defineProperty(t,r,{enumerable:!0,get:function(){return i[s]}})}:function(t,i,s,r){r===void 0&&(r=s),t[r]=i[s]}),O=this&&this.__setModuleDefault||(Object.create?function(t,i){Object.defineProperty(t,"default",{enumerable:!0,value:i})}:function(t,i){t.default=i}),g=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var i={};if(t!=null)for(var s in t)s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)&&j(i,t,s);return O(i,t),i},p=this&&this.__awaiter||function(t,i,s,r){function y(v){return v instanceof s?v:new s(function(h){h(v)})}return new(s||(s=Promise))(function(v,h){function D(b){try{F(r.next(b))}catch(P){h(P)}}function C(b){try{F(r.throw(b))}catch(P){h(P)}}function F(b){b.done?v(b.value):y(b.value).then(D,C)}F((r=r.apply(t,i||[])).next())})},f=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});const _=g(c(1)),o=c(402),d=c(315),l=f(c(703)),e=c(448),u=f(c(705));class a extends _.Component{constructor(i){super(i),this.getReactOptions=()=>Object.assign(Object.assign({},o.defaultReactOptions),this.props.reactOptions),this.subscribeToChanges=r=>{const{flags:y}=this.props;r.on("change",v=>{const h=this.getReactOptions(),D=(0,e.getFlattenedFlagsFromChangeset)(v,y),C=Object.assign(Object.assign({},this.state.unproxiedFlags),D);Object.keys(D).length>0&&this.setState(Object.assign({unproxiedFlags:C},(0,u.default)(r,C,h,y)))})},this.initLDClient=()=>p(this,void 0,void 0,function*(){const{clientSideID:r,flags:y,options:v}=this.props;let h=yield this.props.ldClient;const D=this.getReactOptions();let C,F;if(h)C=(0,e.fetchFlags)(h,y);else{const b=yield(0,l.default)(r,(0,e.getContextOrUser)(this.props),v,y);C=b.flags,h=b.ldClient,F=b.error}this.setState(Object.assign(Object.assign({unproxiedFlags:C},(0,u.default)(h,C,D,y)),{ldClient:h,error:F})),this.subscribeToChanges(h)});const{options:s}=i;if(this.state={flags:{},unproxiedFlags:{},flagKeyMap:{},ldClient:void 0},s){const{bootstrap:r}=s;if(r&&r!=="localStorage"){const{useCamelCaseFlagKeys:y}=this.getReactOptions();this.state={flags:y?(0,e.camelCaseKeys)(r):r,unproxiedFlags:r,flagKeyMap:{},ldClient:void 0}}}}componentDidMount(){return p(this,void 0,void 0,function*(){const{deferInitialization:i}=this.props;i&&!(0,e.getContextOrUser)(this.props)||(yield this.initLDClient())})}componentDidUpdate(i){return p(this,void 0,void 0,function*(){const{deferInitialization:s}=this.props,r=!(0,e.getContextOrUser)(i)&&(0,e.getContextOrUser)(this.props);s&&r&&(yield this.initLDClient())})}render(){const{flags:i,flagKeyMap:s,ldClient:r,error:y}=this.state;return _.default.createElement(d.Provider,{value:{flags:i,flagKeyMap:s,ldClient:r,error:y}},this.props.children)}}n.default=a},703:function(m,n,c){"use strict";var j=this&&this.__createBinding||(Object.create?function(e,u,a,t){t===void 0&&(t=a),Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[a]}})}:function(e,u,a,t){t===void 0&&(t=a),e[t]=u[a]}),O=this&&this.__setModuleDefault||(Object.create?function(e,u){Object.defineProperty(e,"default",{enumerable:!0,value:u})}:function(e,u){e.default=u}),g=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var u={};if(e!=null)for(var a in e)a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)&&j(u,e,a);return O(u,e),u},p=this&&this.__awaiter||function(e,u,a,t){function i(s){return s instanceof a?s:new a(function(r){r(s)})}return new(a||(a=Promise))(function(s,r){function y(D){try{h(t.next(D))}catch(C){r(C)}}function v(D){try{h(t.throw(D))}catch(C){r(C)}}function h(D){D.done?s(D.value):i(D.value).then(y,v)}h((t=t.apply(e,u||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0});const f=c(1057),_=c(448),d={wrapperName:"react-client-sdk",wrapperVersion:g(c(1058)).version,sendEventsOnlyForVariation:!0},l=(e,u={anonymous:!0,kind:"user"},a,t)=>p(void 0,void 0,void 0,function*(){const i=(0,f.initialize)(e,u,Object.assign(Object.assign({},d),a));return new Promise(s=>{function r(){i.off("ready",v),i.off("failed",y)}function y(h){r(),s({flags:{},ldClient:i,error:h})}function v(){r();const h=(0,_.fetchFlags)(i,t);s({flags:h,ldClient:i})}i.on("failed",y),i.on("ready",v)})});n.default=l},705:function(m,n,c){"use strict";var j=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(n,"__esModule",{value:!0});const O=j(c(704)),g=c(402);function p(l,e,u=g.defaultReactOptions,a){const t=f(e,a),{useCamelCaseFlagKeys:i=!0}=u,[s,r={}]=i?_(t):[t];return{flags:u.sendEventsOnFlagRead?d(l,s,r,i):s,flagKeyMap:r}}n.default=p;function f(l,e){return e===void 0?l:Object.keys(e).reduce((u,a)=>(o(l,a)&&(u[a]=l[a]),u),{})}function _(l){const e={},u={};for(const a in l){if(a.indexOf("$")===0)continue;const t=(0,O.default)(a);e[t]=l[a],u[t]=a}return[e,u]}function o(l,e){return Object.prototype.hasOwnProperty.call(l,e)}function d(l,e,u,a){return new Proxy(e,{get(t,i,s){const r=Reflect.get(t,i,s),y=a&&o(u,i)||o(t,i);if(typeof i=="symbol"||!y)return r;if(r===void 0)return;const v=a?u[i]:i;return l.variation(v,r)}})}}}]);
