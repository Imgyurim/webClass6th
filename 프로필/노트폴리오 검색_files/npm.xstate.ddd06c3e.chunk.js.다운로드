(this.webpackJsonpwaffle=this.webpackJsonpwaffle||[]).push([[132],{1222:function(ut,v,u){"use strict";u.d(v,"a",function(){return t});var r=u(1),l=u(125),P;(function(n){n[n.Effect=1]="Effect",n[n.LayoutEffect=2]="LayoutEffect"})(P||(P={}));var A=u(305),Q=u(407);function E(n){var e=r.useRef();return e.current||(e.current={v:n()}),e.current.v}var b=function(n,e){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var c=o.call(n),d,h=[],j;try{for(;(e===void 0||e-- >0)&&!(d=c.next()).done;)h.push(d.value)}catch(m){j={error:m}}finally{try{d&&!d.done&&(o=c.return)&&o.call(c)}finally{if(j)throw j.error}}return h},$=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&n[e],c=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&c>=n.length&&(n=void 0),{value:n&&n[c++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function N(n,e){var o,c,d=b([[],[]],2),h=d[0],j=d[1];try{for(var m=$(n),y=m.next();!y.done;y=m.next()){var x=y.value;e(x)?h.push(x):j.push(x)}}catch(T){o={error:T}}finally{try{y&&!y.done&&(c=m.return)&&c.call(m)}finally{if(o)throw o.error}}return[h,j]}var R=function(n,e){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var c=o.call(n),d,h=[],j;try{for(;(e===void 0||e-- >0)&&!(d=c.next()).done;)h.push(d.value)}catch(m){j={error:m}}finally{try{d&&!d.done&&(o=c.return)&&o.call(c)}finally{if(j)throw j.error}}return h},W=function(n,e,o){if(o||arguments.length===2)for(var c=0,d=e.length,h;c<d;c++)(h||!(c in e))&&(h||(h=Array.prototype.slice.call(e,0,c)),h[c]=e[c]);return n.concat(h||Array.prototype.slice.call(e))};function U(n,e){var o=n.exec,c=o(e.context,e._event.data,{action:n,state:e,_event:e._event});c()}function g(n){var e=Object(r.useRef)([]),o=Object(r.useRef)([]);Object(A.a)(function(){var c=n.subscribe(function(d){var h,j;if(d.actions.length){var m=d.actions.filter(function(M){return typeof M.exec=="function"&&"__effect"in M.exec}),y=R(N(m,function(M){return M.exec.__effect===P.Effect}),2),x=y[0],T=y[1];(h=e.current).push.apply(h,W([],R(x.map(function(M){return[M,d]})),!1)),(j=o.current).push.apply(j,W([],R(T.map(function(M){return[M,d]})),!1))}});return function(){c.unsubscribe()}},[]),Object(A.a)(function(){for(;o.current.length;){var c=R(o.current.shift(),2),d=c[0],h=c[1];U(d,h)}}),Object(r.useEffect)(function(){for(;e.current.length;){var c=R(e.current.shift(),2),d=c[0],h=c[1];U(d,h)}})}var Y=function(){return Y=Object.assign||function(n){for(var e,o=1,c=arguments.length;o<c;o++){e=arguments[o];for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(n[d]=e[d])}return n},Y.apply(this,arguments)},V=function(n,e){var o={};for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&e.indexOf(c)<0&&(o[c]=n[c]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,c=Object.getOwnPropertySymbols(n);d<c.length;d++)e.indexOf(c[d])<0&&Object.prototype.propertyIsEnumerable.call(n,c[d])&&(o[c[d]]=n[c[d]]);return o},B=function(n,e){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var c=o.call(n),d,h=[],j;try{for(;(e===void 0||e-- >0)&&!(d=c.next()).done;)h.push(d.value)}catch(m){j={error:m}}finally{try{d&&!d.done&&(o=c.return)&&o.call(c)}finally{if(j)throw j.error}}return h};function K(n,e,o){if(typeof n=="object")return n;var c=function(){};return{next:n,error:e||c,complete:o||c}}function X(n,e,o){e===void 0&&(e={});var c=E(function(){return typeof n=="function"?n():n});if(!1)var d,h;var j=e.context,m=e.guards,y=e.actions,x=e.activities,T=e.services,M=e.delays,J=e.state,f=V(e,["context","guards","actions","activities","services","delays","state"]),O=E(function(){var p={context:j,guards:m,actions:y,activities:x,services:T,delays:M},S=c.withConfig(p,function(){return Y(Y({},c.context),j)});return Object(Q.a)(S,Y({deferEvents:!0},f))});return Object(A.a)(function(){var p;return o&&(p=O.subscribe(K(o))),function(){p==null||p.unsubscribe()}},[o]),Object(A.a)(function(){return O.start(J?l.a.create(J):void 0),function(){O.stop()}},[]),Object(A.a)(function(){Object.assign(O.machine.options.actions,y),Object.assign(O.machine.options.guards,m),Object.assign(O.machine.options.activities,x),Object.assign(O.machine.options.services,T),Object.assign(O.machine.options.delays,M)},[y,m,x,T,M]),g(O),O}var nt=function(n,e){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var c=o.call(n),d,h=[],j;try{for(;(e===void 0||e-- >0)&&!(d=c.next()).done;)h.push(d.value)}catch(m){j={error:m}}finally{try{d&&!d.done&&(o=c.return)&&o.call(c)}finally{if(j)throw j.error}}return h},ot=function(n,e,o){if(o||arguments.length===2)for(var c=0,d=e.length,h;c<d;c++)(h||!(c in e))&&(h||(h=Array.prototype.slice.call(e,0,c)),h[c]=e[c]);return n.concat(h||Array.prototype.slice.call(e))};function D(n,e){var o=function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];return function(){return n.apply(void 0,ot([],nt(c),!1))}};return Object.defineProperties(o,{name:{value:"effect:".concat(n.name)},__effect:{value:e}}),o}function a(n){return D(n,P.Effect)}function i(n){return D(n,P.LayoutEffect)}function t(n,e){e===void 0&&(e={});var o=Object(r.useCallback)(function(m){var y=m.changed===void 0&&Object.keys(m.children).length;(m.changed||y)&&j(m)},[]),c=X(n,e,o),d=nt(Object(r.useState)(function(){var m=c.machine.initialState;return e.state?l.a.create(e.state):m}),2),h=d[0],j=d[1];return[h,c.send,c]}},125:function(ut,v,u){"use strict";u.d(v,"a",function(){return W}),u.d(v,"b",function(){return R}),u.d(v,"c",function(){return $}),u.d(v,"d",function(){return b});var r=u(16),l=u(194),P=u(15),A=u(94),Q=u(48),E=u(68);function b(U,g){if(U===g)return!0;if(U===void 0||g===void 0)return!1;if(Object(P.m)(U)||Object(P.m)(g))return U===g;var Y=Object.keys(U),V=Object.keys(g);return Y.length===V.length&&Y.every(function(B){return b(U[B],g[B])})}function $(U){return typeof U!="object"||U===null?!1:"value"in U&&"_event"in U}var N=$;function R(U,g){var Y=U.exec,V=Object(r.a)(Object(r.a)({},U),{exec:Y!==void 0?function(){return Y(g.context,g.event,{action:U,state:g,_event:g._event})}:void 0});return V}var W=function(){function U(g){var Y=this,V;this.actions=[],this.activities=l.b,this.meta={},this.events=[],this.value=g.value,this.context=g.context,this._event=g._event,this._sessionid=g._sessionid,this.event=this._event.data,this.historyValue=g.historyValue,this.history=g.history,this.actions=g.actions||[],this.activities=g.activities||l.b,this.meta=Object(A.e)(g.configuration),this.events=g.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=g.configuration,this.transitions=g.transitions,this.children=g.children,this.done=!!g.done,this.tags=(V=Array.isArray(g.tags)?new Set(g.tags):g.tags)!==null&&V!==void 0?V:new Set,this.machine=g.machine,Object.defineProperty(this,"nextEvents",{get:function(){return Object(A.k)(Y.configuration)}})}return U.from=function(g,Y){if(g instanceof U)return g.context!==Y?new U({value:g.value,context:Y,_event:g._event,_sessionid:null,historyValue:g.historyValue,history:g.history,actions:[],activities:g.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):g;var V=Q.i;return new U({value:g,context:Y,_event:V,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},U.create=function(g){return new U(g)},U.inert=function(g,Y){if(g instanceof U){if(!g.actions.length)return g;var V=Q.i;return new U({value:g.value,context:Y,_event:V,_sessionid:null,historyValue:g.historyValue,history:g.history,activities:g.activities,configuration:g.configuration,transitions:[],children:{}})}return U.from(g,Y)},U.prototype.toStrings=function(g,Y){var V=this;if(g===void 0&&(g=this.value),Y===void 0&&(Y="."),Object(P.m)(g))return[g];var B=Object.keys(g);return B.concat.apply(B,Object(r.d)([],Object(r.b)(B.map(function(K){return V.toStrings(g[K],Y).map(function(X){return K+Y+X})})),!1))},U.prototype.toJSON=function(){var g=this;g.configuration,g.transitions;var Y=g.tags;g.machine;var V=Object(r.c)(g,["configuration","transitions","tags","machine"]);return Object(r.a)(Object(r.a)({},V),{tags:Array.from(Y)})},U.prototype.matches=function(g){return Object(P.q)(g,this.value)},U.prototype.hasTag=function(g){return this.tags.has(g)},U.prototype.can=function(g){var Y;E.a&&Object(P.L)(!!this.machine,"state.can(...) used outside of a machine-created State object; this will always return false.");var V=(Y=this.machine)===null||Y===void 0?void 0:Y.getTransitionData(this,g);return!!(V!=null&&V.transitions.length)&&V.transitions.some(function(B){return B.target!==void 0||B.actions.length})},U}()},15:function(ut,v,u){"use strict";u.d(v,"a",function(){return at}),u.d(v,"b",function(){return q}),u.d(v,"c",function(){return nt}),u.d(v,"d",function(){return b}),u.d(v,"e",function(){return O}),u.d(v,"f",function(){return j}),u.d(v,"g",function(){return n}),u.d(v,"h",function(){return i}),u.d(v,"i",function(){return m}),u.d(v,"j",function(){return f}),u.d(v,"k",function(){return T}),u.d(v,"l",function(){return t}),u.d(v,"m",function(){return y}),u.d(v,"n",function(){return a}),u.d(v,"o",function(){return Y}),u.d(v,"p",function(){return g}),u.d(v,"q",function(){return E}),u.d(v,"r",function(){return B}),u.d(v,"s",function(){return tt}),u.d(v,"t",function(){return e}),u.d(v,"u",function(){return V}),u.d(v,"v",function(){return U}),u.d(v,"w",function(){return rt}),u.d(v,"x",function(){return M}),u.d(v,"y",function(){return D}),u.d(v,"z",function(){return S}),u.d(v,"A",function(){return x}),u.d(v,"B",function(){return et}),u.d(v,"C",function(){return G}),u.d(v,"D",function(){return F}),u.d(v,"E",function(){return N}),u.d(v,"F",function(){return K}),u.d(v,"G",function(){return W}),u.d(v,"H",function(){return Z}),u.d(v,"I",function(){return p}),u.d(v,"J",function(){return d}),u.d(v,"K",function(){return c}),u.d(v,"L",function(){return h});var r=u(16),l=u(194),P=u(68),A;function Q(s){return Object.keys(s)}function E(s,I,C){C===void 0&&(C=l.c);var L=W(s,C),w=W(I,C);return y(w)?y(L)?w===L:!1:y(L)?L in w:Object.keys(L).every(function(z){return z in w?E(L[z],w[z]):!1})}function b(s){try{return y(s)||typeof s=="number"?"".concat(s):s.type}catch(I){throw new Error("Events must be strings or objects with a string event.type property.")}}function $(s){try{return y(s)||typeof s=="number"?"".concat(s):m(s)?s.name:s.type}catch(I){throw new Error("Actions must be strings or objects with a string action.type property.")}}function N(s,I){try{return j(s)?s:s.toString().split(I)}catch(C){throw new Error("'".concat(s,"' is not a valid state path."))}}function R(s){return typeof s=="object"&&"value"in s&&"context"in s&&"event"in s&&"_event"in s}function W(s,I){if(R(s))return s.value;if(j(s))return U(s);if(typeof s!="string")return s;var C=N(s,I);return U(C)}function U(s){if(s.length===1)return s[0];for(var I={},C=I,L=0;L<s.length-1;L++)L===s.length-2?C[s[L]]=s[L+1]:(C[s[L]]={},C=C[s[L]]);return I}function g(s,I){for(var C={},L=Object.keys(s),w=0;w<L.length;w++){var z=L[w];C[z]=I(s[z],z,s,w)}return C}function Y(s,I,C){var L,w,z={};try{for(var H=Object(r.e)(Object.keys(s)),k=H.next();!k.done;k=H.next()){var _=k.value,it=s[_];C(it)&&(z[_]=I(it,_,s))}}catch(ct){L={error:ct}}finally{try{k&&!k.done&&(w=H.return)&&w.call(H)}finally{if(L)throw L.error}}return z}var V=function(s){return function(I){var C,L,w=I;try{for(var z=Object(r.e)(s),H=z.next();!H.done;H=z.next()){var k=H.value;w=w[k]}}catch(_){C={error:_}}finally{try{H&&!H.done&&(L=z.return)&&L.call(z)}finally{if(C)throw C.error}}return w}};function B(s,I){return function(C){var L,w,z=C;try{for(var H=Object(r.e)(s),k=H.next();!k.done;k=H.next()){var _=k.value;z=z[I][_]}}catch(it){L={error:it}}finally{try{k&&!k.done&&(w=H.return)&&w.call(H)}finally{if(L)throw L.error}}return z}}function K(s){if(!s)return[[]];if(y(s))return[[s]];var I=nt(Object.keys(s).map(function(C){var L=s[C];return typeof L!="string"&&(!L||!Object.keys(L).length)?[[C]]:K(s[C]).map(function(w){return[C].concat(w)})}));return I}function X(s){var I,C,L={};if(s&&s.length===1&&s[0].length===1)return s[0][0];try{for(var w=Object(r.e)(s),z=w.next();!z.done;z=w.next())for(var H=z.value,k=L,_=0;_<H.length;_++){var it=H[_];if(_===H.length-2){k[it]=H[_+1];break}k[it]=k[it]||{},k=k[it]}}catch(ct){I={error:ct}}finally{try{z&&!z.done&&(C=w.return)&&C.call(w)}finally{if(I)throw I.error}}return L}function nt(s){var I;return(I=[]).concat.apply(I,Object(r.d)([],Object(r.b)(s),!1))}function ot(s){return j(s)?s:[s]}function D(s){return s===void 0?[]:ot(s)}function a(s,I,C){var L,w;if(m(s))return s(I,C.data);var z={};try{for(var H=Object(r.e)(Object.keys(s)),k=H.next();!k.done;k=H.next()){var _=k.value,it=s[_];m(it)?z[_]=it(I,C.data):z[_]=it}}catch(ct){L={error:ct}}finally{try{k&&!k.done&&(w=H.return)&&w.call(H)}finally{if(L)throw L.error}}return z}function i(s){return/^(done|error)\./.test(s)}function t(s){return!!(s instanceof Promise||s!==null&&(m(s)||typeof s=="object")&&m(s.then))}function n(s){return s!==null&&typeof s=="object"&&"transition"in s&&typeof s.transition=="function"}function e(s,I){var C,L,w=Object(r.b)([[],[]],2),z=w[0],H=w[1];try{for(var k=Object(r.e)(s),_=k.next();!_.done;_=k.next()){var it=_.value;I(it)?z.push(it):H.push(it)}}catch(ct){C={error:ct}}finally{try{_&&!_.done&&(L=k.return)&&L.call(k)}finally{if(C)throw C.error}}return[z,H]}function o(s,I){return g(s.states,function(C,L){if(C){var w=(y(I)?void 0:I[L])||(C?C.current:void 0);if(w)return{current:w,states:o(C,w)}}})}function c(s,I){return{current:I,states:o(s,I)}}function d(s,I,C,L){P.a||h(!!s,"Attempting to update undefined context");var w=s&&C.reduce(function(z,H){var k,_,it=H.assignment,ct={state:L,action:H,_event:I},st={};if(m(it))st=it(z,I.data,ct);else try{for(var ft=Object(r.e)(Object.keys(it)),lt=ft.next();!lt.done;lt=ft.next()){var vt=lt.value,dt=it[vt];st[vt]=m(dt)?dt(z,I.data,ct):dt}}catch(yt){k={error:yt}}finally{try{lt&&!lt.done&&(_=ft.return)&&_.call(ft)}finally{if(k)throw k.error}}return Object.assign({},z,st)},s);return w}var h=function(){};P.a||(h=function(s,I){var C=s instanceof Error?s:void 0;if(!(!C&&s)&&console!==void 0){var L=["Warning: ".concat(I)];C&&L.push(C),console.warn.apply(console,L)}});function j(s){return Array.isArray(s)}function m(s){return typeof s=="function"}function y(s){return typeof s=="string"}function x(s,I){if(s)return y(s)?{type:l.a,name:s,predicate:I?I[s]:void 0}:m(s)?{type:l.a,name:s.name,predicate:s}:s}function T(s){try{return"subscribe"in s&&m(s.subscribe)}catch(I){return!1}}var M=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),J=(A={},A[M]=function(){return this},A[Symbol.observable]=function(){return this},A);function f(s){return!!s&&"__xstatenode"in s}function O(s){return!!s&&typeof s.send=="function"}var p=function(){var s=0;return function(){return s++,s.toString(16)}}();function S(s,I){return y(s)||typeof s=="number"?Object(r.a)({type:s},I):s}function F(s,I){if(!y(s)&&"$$type"in s&&s.$$type==="scxml")return s;var C=S(s);return Object(r.a)({name:C.type,data:C,$$type:"scxml",type:"external"},I)}function Z(s,I){var C=ot(I).map(function(L){return typeof L=="undefined"||typeof L=="string"||f(L)?{target:L,event:s}:Object(r.a)(Object(r.a)({},L),{event:s})});return C}function tt(s){if(!(s===void 0||s===l.d))return D(s)}function rt(s,I,C){if(!P.a){var L=s.stack?" Stacktrace was '".concat(s.stack,"'"):"";if(s===I)console.error("Missing onError handler for invocation '".concat(C,"', error was '").concat(s,"'.").concat(L));else{var w=I.stack?" Stacktrace was '".concat(I.stack,"'"):"";console.error("Missing onError handler and/or unhandled exception/promise rejection for invocation '".concat(C,"'. ")+"Original error: '".concat(s,"'. ").concat(L," Current error is '").concat(I,"'.").concat(w))}}}function q(s,I,C,L,w){var z=s.options.guards,H={state:w,cond:I,_event:L};if(I.type===l.a)return((z==null?void 0:z[I.name])||I.predicate)(C,L.data,H);var k=z==null?void 0:z[I.type];if(!k)throw new Error("Guard '".concat(I.type,"' is not implemented on machine '").concat(s.id,"'."));return k(C,L.data,H)}function et(s){return typeof s=="string"?{type:s}:s}function G(s,I,C){var L=function(){},w=typeof s=="object",z=w?s:null;return{next:((w?s.next:s)||L).bind(z),error:((w?s.error:I)||L).bind(z),complete:((w?s.complete:C)||L).bind(z)}}function at(s,I){return"".concat(s,":invocation[").concat(I,"]")}},16:function(ut,v,u){"use strict";u.d(v,"a",function(){return r}),u.d(v,"b",function(){return A}),u.d(v,"c",function(){return l}),u.d(v,"d",function(){return Q}),u.d(v,"e",function(){return P});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var r=function(){return r=Object.assign||function(b){for(var $,N=1,R=arguments.length;N<R;N++){$=arguments[N];for(var W in $)Object.prototype.hasOwnProperty.call($,W)&&(b[W]=$[W])}return b},r.apply(this,arguments)};function l(E,b){var $={};for(var N in E)Object.prototype.hasOwnProperty.call(E,N)&&b.indexOf(N)<0&&($[N]=E[N]);if(E!=null&&typeof Object.getOwnPropertySymbols=="function")for(var R=0,N=Object.getOwnPropertySymbols(E);R<N.length;R++)b.indexOf(N[R])<0&&Object.prototype.propertyIsEnumerable.call(E,N[R])&&($[N[R]]=E[N[R]]);return $}function P(E){var b=typeof Symbol=="function"&&Symbol.iterator,$=b&&E[b],N=0;if($)return $.call(E);if(E&&typeof E.length=="number")return{next:function(){return E&&N>=E.length&&(E=void 0),{value:E&&E[N++],done:!E}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function A(E,b){var $=typeof Symbol=="function"&&E[Symbol.iterator];if(!$)return E;var N=$.call(E),R,W=[],U;try{for(;(b===void 0||b-- >0)&&!(R=N.next()).done;)W.push(R.value)}catch(g){U={error:g}}finally{try{R&&!R.done&&($=N.return)&&$.call(N)}finally{if(U)throw U.error}}return W}function Q(E,b,$){if($||arguments.length===2)for(var N=0,R=b.length,W;N<R;N++)(W||!(N in b))&&(W||(W=Array.prototype.slice.call(b,0,N)),W[N]=b[N]);return E.concat(W||Array.prototype.slice.call(b))}},194:function(ut,v,u){"use strict";u.d(v,"a",function(){return P}),u.d(v,"b",function(){return l}),u.d(v,"c",function(){return r}),u.d(v,"d",function(){return A});var r=".",l={},P="xstate.guard",A=""},214:function(ut,v,u){"use strict";u.d(v,"a",function(){return E}),u.d(v,"b",function(){return Q}),u.d(v,"c",function(){return $}),u.d(v,"d",function(){return N});var r=u(16),l=u(15),P=u(235);function A(R){var W;return W={id:R,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:R}}},W[l.x]=function(){return this},W}function Q(R,W,U,g){var Y,V=Object(l.B)(R.src),B=(Y=W==null?void 0:W.options.services)===null||Y===void 0?void 0:Y[V.type],K=R.data?Object(l.n)(R.data,U,g):void 0,X=B?E(B,R.id,K):A(R.id);return X.meta=R,X}function E(R,W,U){var g=A(W);if(g.deferred=!0,Object(l.j)(R)){var Y=g.state=Object(P.b)(void 0,function(){return(U?R.withContext(U):R).initialState});g.getSnapshot=function(){return Y}}return g}function b(R){try{return typeof R.send=="function"}catch(W){return!1}}function $(R){return b(R)&&"id"in R}function N(R){var W;return Object(r.a)((W={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}},W[l.x]=function(){return this},W),R)}},235:function(ut,v,u){"use strict";u.d(v,"a",function(){return P}),u.d(v,"b",function(){return l});var r=[],l=function(A,Q){r.push(A);var E=Q(A);return r.pop(),E},P=function(A){return A(r[r.length-1])}},407:function(ut,v,u){"use strict";u.d(v,"a",function(){return a});var r=u(16),l=u(54),P=u(125),A=u(50),Q=u(48),E=u(68),b=u(15),$={deferEvents:!1},N=function(){function i(t){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=Object(r.a)(Object(r.a)({},$),t)}return i.prototype.initialize=function(t){if(this.initialized=!0,t){if(!this.options.deferEvents){this.schedule(t);return}this.process(t)}this.flushEvents()},i.prototype.schedule=function(t){if(!this.initialized||this.processingEvent){this.queue.push(t);return}if(this.queue.length!==0)throw new Error("Event queue should be empty when it is not processing events");this.process(t),this.flushEvents()},i.prototype.clear=function(){this.queue=[]},i.prototype.flushEvents=function(){for(var t=this.queue.shift();t;)this.process(t),t=this.queue.shift()},i.prototype.process=function(t){this.processingEvent=!0;try{t()}catch(n){throw this.clear(),n}finally{this.processingEvent=!1}},i}(),R=u(214),W=new Map,U=0,g={bookId:function(){return"x:".concat(U++)},register:function(i,t){return W.set(i,t),i},get:function(i){return W.get(i)},free:function(i){W.delete(i)}},Y=u(616),V=u(235),B=u(482),K={sync:!1,autoForward:!1},X;(function(i){i[i.NotStarted=0]="NotStarted",i[i.Running=1]="Running",i[i.Stopped=2]="Stopped"})(X||(X={}));var nt=function(){function i(t,n){n===void 0&&(n=i.defaultOptions);var e=this;this.machine=t,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=X.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(y,x){if(Object(b.f)(y))return e.batch(y),e.state;var T=Object(b.D)(Object(b.z)(y,x));if(e.status===X.Stopped)return E.a||Object(b.L)(!1,'Event "'.concat(T.name,'" was sent to stopped service "').concat(e.machine.id,`". This service has already reached its final state, and will not transition.
Event: `).concat(JSON.stringify(T.data))),e.state;if(e.status!==X.Running&&!e.options.deferEvents)throw new Error('Event "'.concat(T.name,'" was sent to uninitialized service "').concat(e.machine.id,`". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.
Event: `).concat(JSON.stringify(T.data)));return e.scheduler.schedule(function(){e.forward(T);var M=e._nextState(T);e.update(M,T)}),e._state},this.sendTo=function(y,x,T){var M=e.parent&&(x===l.b.Parent||e.parent.id===x),J=M?e.parent:Object(b.m)(x)?e.children.get(x)||g.get(x):Object(b.e)(x)?x:void 0;if(!J){if(!M)throw new Error("Unable to send event to child '".concat(x,"' from service '").concat(e.id,"'."));E.a||Object(b.L)(!1,"Service '".concat(e.id,"' has no parent: unable to send event ").concat(y.type));return}if("machine"in J){if(e.status!==X.Stopped||e.parent!==J||e.state.done){var f=Object(r.a)(Object(r.a)({},y),{name:y.name===A.d?"".concat(Object(Q.f)(e.id)):y.name,origin:e.sessionId});!T&&e.machine.config.predictableActionArguments?e._outgoingQueue.push([J,f]):J.send(f)}}else!T&&e.machine.config.predictableActionArguments?e._outgoingQueue.push([J,y.data]):J.send(y.data)},this._exec=function(y,x,T,M){M===void 0&&(M=e.machine.options.actions);var J=y.exec||Object(Q.h)(y.type,M),f=Object(b.i)(J)?J:J?J.exec:y.exec;if(f)try{return f(x,T.data,e.machine.config.predictableActionArguments?{action:y,_event:T}:{action:y,state:e.state,_event:T})}catch(I){throw e.parent&&e.parent.send({type:"xstate.error",data:I}),I}switch(y.type){case A.l:var O=y;if(typeof O.delay=="number"){e.defer(O);return}else O.to?e.sendTo(O._event,O.to,T===Q.i):e.send(O._event);break;case A.b:e.cancel(y.sendId);break;case A.m:{if(e.status!==X.Running)return;var p=y.activity;if(!e.machine.config.predictableActionArguments&&!e.state.activities[p.id||p.type])break;if(p.type===l.a.Invoke){var S=Object(b.B)(p.src),F=e.machine.options.services?e.machine.options.services[S.type]:void 0,Z=p.id,tt=p.data;E.a||Object(b.L)(!("forward"in p),"`forward` property is deprecated (found in invocation of '".concat(p.src,"' in in machine '").concat(e.machine.id,"'). ")+"Please use `autoForward` instead.");var rt="autoForward"in p?p.autoForward:!!p.forward;if(!F){E.a||Object(b.L)(!1,"No service found for invocation '".concat(p.src,"' in machine '").concat(e.machine.id,"'."));return}var q=tt?Object(b.n)(tt,x,T):void 0;if(typeof F=="string")return;var et=Object(b.i)(F)?F(x,T.data,{data:q,src:S,meta:p.meta}):F;if(!et)return;var G=void 0;Object(b.j)(et)&&(et=q?et.withContext(q):et,G={autoForward:rt}),e.spawn(et,Z,G)}else e.spawnActivity(p);break}case A.n:{e.stopChild(y.activity.id);break}case A.h:var at=y.label,s=y.value;at?e.logger(at,s):e.logger(s);break;default:E.a||Object(b.L)(!1,"No implementation found for action type '".concat(y.type,"'"));break}};var o=Object(r.a)(Object(r.a)({},i.defaultOptions),n),c=o.clock,d=o.logger,h=o.parent,j=o.id,m=j!==void 0?j:t.id;this.id=m,this.logger=d,this.clock=c,this.parent=h,this.options=o,this.scheduler=new N({deferEvents:this.options.deferEvents}),this.sessionId=g.bookId()}return Object.defineProperty(i.prototype,"initialState",{get:function(){var t=this;return this._initialState?this._initialState:Object(V.b)(this,function(){return t._initialState=t.machine.initialState,t._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"state",{get:function(){return E.a||Object(b.L)(this.status!==X.NotStarted,"Attempted to read state from uninitialized service '".concat(this.id,"'. Make sure the service is started first.")),this._state},enumerable:!1,configurable:!0}),i.prototype.execute=function(t,n){var e,o;try{for(var c=Object(r.e)(t.actions),d=c.next();!d.done;d=c.next()){var h=d.value;this.exec(h,t,n)}}catch(j){e={error:j}}finally{try{d&&!d.done&&(o=c.return)&&o.call(c)}finally{if(e)throw e.error}}},i.prototype.update=function(t,n){var e,o,c,d,h,j,m,y,x=this;if(t._sessionid=this.sessionId,this._state=t,(!this.machine.config.predictableActionArguments||n===Q.i)&&this.options.execute)this.execute(this.state);else for(var T=void 0;T=this._outgoingQueue.shift();)T[0].send(T[1]);if(this.children.forEach(function(G){x.state.children[G.id]=G}),this.devTools&&this.devTools.send(n.data,t),t.event)try{for(var M=Object(r.e)(this.eventListeners),J=M.next();!J.done;J=M.next()){var f=J.value;f(t.event)}}catch(G){e={error:G}}finally{try{J&&!J.done&&(o=M.return)&&o.call(M)}finally{if(e)throw e.error}}try{for(var O=Object(r.e)(this.listeners),p=O.next();!p.done;p=O.next()){var f=p.value;f(t,t.event)}}catch(G){c={error:G}}finally{try{p&&!p.done&&(d=O.return)&&d.call(O)}finally{if(c)throw c.error}}try{for(var S=Object(r.e)(this.contextListeners),F=S.next();!F.done;F=S.next()){var Z=F.value;Z(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(G){h={error:G}}finally{try{F&&!F.done&&(j=S.return)&&j.call(S)}finally{if(h)throw h.error}}if(this.state.done){var tt=t.configuration.find(function(G){return G.type==="final"&&G.parent===x.machine}),rt=tt&&tt.doneData?Object(b.n)(tt.doneData,t.context,n):void 0;try{for(var q=Object(r.e)(this.doneListeners),et=q.next();!et.done;et=q.next()){var f=et.value;f(Object(Q.e)(this.id,rt))}}catch(G){m={error:G}}finally{try{et&&!et.done&&(y=q.return)&&y.call(q)}finally{if(m)throw m.error}}this._stop(),this._stopChildren()}},i.prototype.onTransition=function(t){return this.listeners.add(t),this.status===X.Running&&t(this.state,this.state.event),this},i.prototype.subscribe=function(t,n,e){var o=this,c=Object(b.C)(t,n,e);this.listeners.add(c.next),this.status!==X.NotStarted&&c.next(this.state);var d=function(){o.doneListeners.delete(d),o.stopListeners.delete(d),c.complete()};return this.status===X.Stopped?c.complete():(this.onDone(d),this.onStop(d)),{unsubscribe:function(){o.listeners.delete(c.next),o.doneListeners.delete(d),o.stopListeners.delete(d)}}},i.prototype.onEvent=function(t){return this.eventListeners.add(t),this},i.prototype.onSend=function(t){return this.sendListeners.add(t),this},i.prototype.onChange=function(t){return this.contextListeners.add(t),this},i.prototype.onStop=function(t){return this.stopListeners.add(t),this},i.prototype.onDone=function(t){return this.doneListeners.add(t),this},i.prototype.off=function(t){return this.listeners.delete(t),this.eventListeners.delete(t),this.sendListeners.delete(t),this.stopListeners.delete(t),this.doneListeners.delete(t),this.contextListeners.delete(t),this},i.prototype.start=function(t){var n=this;if(this.status===X.Running)return this;this.machine._init(),g.register(this.sessionId,this),this.initialized=!0,this.status=X.Running;var e=t===void 0?this.initialState:Object(V.b)(this,function(){return Object(P.c)(t)?n.machine.resolveState(t):n.machine.resolveState(P.a.from(t,n.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){n.update(e,Q.i)}),this},i.prototype._stopChildren=function(){this.children.forEach(function(t){Object(b.i)(t.stop)&&t.stop()}),this.children.clear()},i.prototype._stop=function(){var t,n,e,o,c,d,h,j,m,y;try{for(var x=Object(r.e)(this.listeners),T=x.next();!T.done;T=x.next()){var M=T.value;this.listeners.delete(M)}}catch(q){t={error:q}}finally{try{T&&!T.done&&(n=x.return)&&n.call(x)}finally{if(t)throw t.error}}try{for(var J=Object(r.e)(this.stopListeners),f=J.next();!f.done;f=J.next()){var M=f.value;M(),this.stopListeners.delete(M)}}catch(q){e={error:q}}finally{try{f&&!f.done&&(o=J.return)&&o.call(J)}finally{if(e)throw e.error}}try{for(var O=Object(r.e)(this.contextListeners),p=O.next();!p.done;p=O.next()){var M=p.value;this.contextListeners.delete(M)}}catch(q){c={error:q}}finally{try{p&&!p.done&&(d=O.return)&&d.call(O)}finally{if(c)throw c.error}}try{for(var S=Object(r.e)(this.doneListeners),F=S.next();!F.done;F=S.next()){var M=F.value;this.doneListeners.delete(M)}}catch(q){h={error:q}}finally{try{F&&!F.done&&(j=S.return)&&j.call(S)}finally{if(h)throw h.error}}if(!this.initialized)return this;this.initialized=!1,this.status=X.Stopped,this._initialState=void 0;try{for(var Z=Object(r.e)(Object.keys(this.delayedEventsMap)),tt=Z.next();!tt.done;tt=Z.next()){var rt=tt.value;this.clock.clearTimeout(this.delayedEventsMap[rt])}}catch(q){m={error:q}}finally{try{tt&&!tt.done&&(y=Z.return)&&y.call(Z)}finally{if(m)throw m.error}}this.scheduler.clear(),this.scheduler=new N({deferEvents:this.options.deferEvents})},i.prototype.stop=function(){var t=this,n=this.scheduler;return this._stop(),n.schedule(function(){var e=Object(b.D)({type:"xstate.stop"}),o=Object(V.b)(t,function(){var c=Object(b.c)(Object(r.d)([],Object(r.b)(t.state.configuration),!1).sort(function(y,x){return x.order-y.order}).map(function(y){return Object(Q.s)(y.onExit,t.machine.options.actions)})),d=Object(r.b)(Object(Q.k)(t.machine,t.state,t.state.context,e,[{type:"exit",actions:c}],t.machine.config.predictableActionArguments?t._exec:void 0,t.machine.config.predictableActionArguments||t.machine.config.preserveActionOrder),2),h=d[0],j=d[1],m=new P.a({value:t.state.value,context:j,_event:e,_sessionid:t.sessionId,historyValue:void 0,history:t.state,actions:h.filter(function(y){return y.type!==A.k&&(y.type!==A.l||!!y.to&&y.to!==l.b.Internal)}),activities:{},events:[],configuration:[],transitions:[],children:{},done:t.state.done,tags:t.state.tags,machine:t.machine});return m.changed=!0,m});t.update(o,e),t._stopChildren(),g.free(t.sessionId)}),this},i.prototype.batch=function(t){var n=this;if(this.status===X.NotStarted&&this.options.deferEvents)E.a||Object(b.L)(!1,"".concat(t.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,`" and are deferred. Make sure .start() is called for this service.
Event: `).concat(JSON.stringify(event)));else if(this.status!==X.Running)throw new Error("".concat(t.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));if(t.length){var e=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule(function(){var o,c,d=n.state,h=!1,j=[],m=function(M){var J=Object(b.D)(M);n.forward(J),d=Object(V.b)(n,function(){return n.machine.transition(d,J,void 0,e||void 0)}),j.push.apply(j,Object(r.d)([],Object(r.b)(n.machine.config.predictableActionArguments?d.actions:d.actions.map(function(f){return Object(P.b)(f,d)})),!1)),h=h||!!d.changed};try{for(var y=Object(r.e)(t),x=y.next();!x.done;x=y.next()){var T=x.value;m(T)}}catch(M){o={error:M}}finally{try{x&&!x.done&&(c=y.return)&&c.call(y)}finally{if(o)throw o.error}}d.changed=h,d.actions=j,n.update(d,Object(b.D)(t[t.length-1]))})}},i.prototype.sender=function(t){return this.send.bind(this,t)},i.prototype._nextState=function(t,n){var e=this;n===void 0&&(n=!!this.machine.config.predictableActionArguments&&this._exec);var o=Object(b.D)(t);if(o.name.indexOf(A.e)===0&&!this.state.nextEvents.some(function(d){return d.indexOf(A.e)===0}))throw o.data.data;var c=Object(V.b)(this,function(){return e.machine.transition(e.state,o,void 0,n||void 0)});return c},i.prototype.nextState=function(t){return this._nextState(t,!1)},i.prototype.forward=function(t){var n,e;try{for(var o=Object(r.e)(this.forwardTo),c=o.next();!c.done;c=o.next()){var d=c.value,h=this.children.get(d);if(!h)throw new Error("Unable to forward event '".concat(t,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(d,"'."));h.send(t)}}catch(j){n={error:j}}finally{try{c&&!c.done&&(e=o.return)&&e.call(o)}finally{if(n)throw n.error}}},i.prototype.defer=function(t){var n=this;this.delayedEventsMap[t.id]=this.clock.setTimeout(function(){t.to?n.sendTo(t._event,t.to,!0):n.send(t._event)},t.delay)},i.prototype.cancel=function(t){this.clock.clearTimeout(this.delayedEventsMap[t]),delete this.delayedEventsMap[t]},i.prototype.exec=function(t,n,e){e===void 0&&(e=this.machine.options.actions),this._exec(t,n.context,n._event,e)},i.prototype.removeChild=function(t){var n;this.children.delete(t),this.forwardTo.delete(t),(n=this.state)===null||n===void 0||delete n.children[t]},i.prototype.stopChild=function(t){var n=this.children.get(t);n&&(this.removeChild(t),Object(b.i)(n.stop)&&n.stop())},i.prototype.spawn=function(t,n,e){if(this.status!==X.Running)return Object(R.a)(t,n);if(Object(b.l)(t))return this.spawnPromise(Promise.resolve(t),n);if(Object(b.i)(t))return this.spawnCallback(t,n);if(Object(R.c)(t))return this.spawnActor(t,n);if(Object(b.k)(t))return this.spawnObservable(t,n);if(Object(b.j)(t))return this.spawnMachine(t,Object(r.a)(Object(r.a)({},e),{id:n}));if(Object(b.g)(t))return this.spawnBehavior(t,n);throw new Error('Unable to spawn entity "'.concat(n,'" of type "').concat(typeof t,'".'))},i.prototype.spawnMachine=function(t,n){var e=this;n===void 0&&(n={});var o=new i(t,Object(r.a)(Object(r.a)({},this.options),{parent:this,id:n.id||t.id})),c=Object(r.a)(Object(r.a)({},K),n);c.sync&&o.onTransition(function(h){e.send(A.o,{state:h,id:o.id})});var d=o;return this.children.set(o.id,d),c.autoForward&&this.forwardTo.add(o.id),o.onDone(function(h){e.removeChild(o.id),e.send(Object(b.D)(h,{origin:o.id}))}).start(),d},i.prototype.spawnBehavior=function(t,n){var e=Object(B.a)(t,{id:n,parent:this});return this.children.set(n,e),e},i.prototype.spawnPromise=function(t,n){var e,o=this,c=!1,d;t.then(function(j){c||(d=j,o.removeChild(n),o.send(Object(b.D)(Object(Q.e)(n,j),{origin:n})))},function(j){if(!c){o.removeChild(n);var m=Object(Q.f)(n,j);try{o.send(Object(b.D)(m,{origin:n}))}catch(y){Object(b.w)(j,y,n),o.devTools&&o.devTools.send(m,o.state),o.machine.strict&&o.stop()}}});var h=(e={id:n,send:function(){},subscribe:function(j,m,y){var x=Object(b.C)(j,m,y),T=!1;return t.then(function(M){T||(x.next(M),!T&&x.complete())},function(M){T||x.error(M)}),{unsubscribe:function(){return T=!0}}},stop:function(){c=!0},toJSON:function(){return{id:n}},getSnapshot:function(){return d}},e[b.x]=function(){return this},e);return this.children.set(n,h),h},i.prototype.spawnCallback=function(t,n){var e,o=this,c=!1,d=new Set,h=new Set,j,m=function(T){j=T,h.forEach(function(M){return M(T)}),!c&&o.send(Object(b.D)(T,{origin:n}))},y;try{y=t(m,function(T){d.add(T)})}catch(T){this.send(Object(Q.f)(n,T))}if(Object(b.l)(y))return this.spawnPromise(y,n);var x=(e={id:n,send:function(T){return d.forEach(function(M){return M(T)})},subscribe:function(T){var M=Object(b.C)(T);return h.add(M.next),{unsubscribe:function(){h.delete(M.next)}}},stop:function(){c=!0,Object(b.i)(y)&&y()},toJSON:function(){return{id:n}},getSnapshot:function(){return j}},e[b.x]=function(){return this},e);return this.children.set(n,x),x},i.prototype.spawnObservable=function(t,n){var e,o=this,c,d=t.subscribe(function(j){c=j,o.send(Object(b.D)(j,{origin:n}))},function(j){o.removeChild(n),o.send(Object(b.D)(Object(Q.f)(n,j),{origin:n}))},function(){o.removeChild(n),o.send(Object(b.D)(Object(Q.e)(n),{origin:n}))}),h=(e={id:n,send:function(){},subscribe:function(j,m,y){return t.subscribe(j,m,y)},stop:function(){return d.unsubscribe()},getSnapshot:function(){return c},toJSON:function(){return{id:n}}},e[b.x]=function(){return this},e);return this.children.set(n,h),h},i.prototype.spawnActor=function(t,n){return this.children.set(n,t),t},i.prototype.spawnActivity=function(t){var n=this.machine.options&&this.machine.options.activities?this.machine.options.activities[t.type]:void 0;if(!n){E.a||Object(b.L)(!1,"No implementation found for activity '".concat(t.type,"'"));return}var e=n(this.state.context,t);this.spawnEffect(t.id,e)},i.prototype.spawnEffect=function(t,n){var e;this.children.set(t,(e={id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:n||void 0,getSnapshot:function(){},toJSON:function(){return{id:t}}},e[b.x]=function(){return this},e))},i.prototype.attachDev=function(){var t=Object(Y.a)();if(this.options.devTools&&t){if(t.__REDUX_DEVTOOLS_EXTENSION__){var n=typeof this.options.devTools=="object"?this.options.devTools:void 0;this.devTools=t.__REDUX_DEVTOOLS_EXTENSION__.connect(Object(r.a)(Object(r.a)({name:this.id,autoPause:!0,stateSanitizer:function(e){return{value:e.value,context:e.context,actions:e.actions}}},n),{features:Object(r.a)({jump:!1,skip:!1},n?n.features:void 0)}),this.machine),this.devTools.init(this.state)}Object(Y.b)(this)}},i.prototype.toJSON=function(){return{id:this.id}},i.prototype[b.x]=function(){return this},i.prototype.getSnapshot=function(){return this.status===X.NotStarted?this.initialState:this._state},i.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(t,n){return setTimeout(t,n)},clearTimeout:function(t){return clearTimeout(t)}},logger:console.log.bind(console),devTools:!1},i.interpret=a,i}(),ot=function(i){return Object(b.m)(i)?Object(r.a)(Object(r.a)({},K),{name:i}):Object(r.a)(Object(r.a)(Object(r.a)({},K),{name:Object(b.I)()}),i)};function D(i,t){var n=ot(t);return Object(V.a)(function(e){if(!E.a){var o=Object(b.j)(i)||Object(b.i)(i);Object(b.L)(!!e||o,'Attempted to spawn an Actor (ID: "'.concat(Object(b.j)(i)?i.id:"undefined",'") outside of a service. This will have no effect.'))}return e?e.spawn(i,n.name,n):Object(R.a)(i,n.name)})}function a(i,t){var n=new nt(i,t);return n}},412:function(ut,v,u){"use strict";u.d(v,"a",function(){return ot});var r=u(16),l=u(15),P=u(54),A=u(125),Q=u(50),E=u(48),b=u(68),$=u(194),N=u(94),R=u(214);function W(D){if(typeof D=="string"){var a={type:D};return a.toString=function(){return D},a}return D}function U(D){return Object(r.a)(Object(r.a)({type:Q.g},D),{toJSON:function(){D.onDone,D.onError;var a=Object(r.c)(D,["onDone","onError"]);return Object(r.a)(Object(r.a)({},a),{type:Q.g,src:W(D.src)})}})}var g="",Y="#",V="*",B={},K=function(D){return D[0]===Y},X=function(){return{actions:{},guards:{},services:{},activities:{},delays:{}}},nt=function(D,a,i){var t=i.slice(0,-1).some(function(e){return!("cond"in e)&&!("in"in e)&&(Object(l.m)(e.target)||Object(l.j)(e.target))}),n=a===g?"the transient event":"event '".concat(a,"'");Object(l.L)(!t,"One or more transitions for ".concat(n," on state '").concat(D.id,"' are unreachable. ")+"Make sure that the default transition is the last one defined.")},ot=function(){function D(a,i,t,n){t===void 0&&(t="context"in a?a.context:void 0);var e=this,o;this.config=a,this._context=t,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign(X(),i),this.parent=n==null?void 0:n.parent,this.key=this.config.key||(n==null?void 0:n.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:$.c),this.id=this.config.id||Object(r.d)([this.machine.key],Object(r.b)(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:(o=this.config.schema)!==null&&o!==void 0?o:{},this.description=this.config.description,b.a||Object(l.L)(!("parallel"in this.config),'The "parallel" property is deprecated and will be removed in version 4.1. '.concat(this.config.parallel?"Replace with `type: 'parallel'`":"Use `type: '".concat(this.type,"'`")," in the config for state node '").concat(this.id,"' instead.")),this.initial=this.config.initial,this.states=this.config.states?Object(l.p)(this.config.states,function(h,j){var m,y=new D(h,{},void 0,{parent:e,key:j});return Object.assign(e.idMap,Object(r.a)((m={},m[y.id]=y,m),y.idMap)),y}):B;var c=0;function d(h){var j,m;h.order=c++;try{for(var y=Object(r.e)(Object(N.a)(h)),x=y.next();!x.done;x=y.next()){var T=x.value;d(T)}}catch(M){j={error:M}}finally{try{x&&!x.done&&(m=y.return)&&m.call(y)}finally{if(j)throw j.error}}}d(this),this.history=this.config.history===!0?"shallow":this.config.history||!1,this._transient=!!this.config.always||(this.config.on?Array.isArray(this.config.on)?this.config.on.some(function(h){var j=h.event;return j===g}):g in this.config.on:!1),this.strict=!!this.config.strict,this.onEntry=Object(l.y)(this.config.entry||this.config.onEntry).map(function(h){return Object(E.r)(h)}),this.onExit=Object(l.y)(this.config.exit||this.config.onExit).map(function(h){return Object(E.r)(h)}),this.meta=this.config.meta,this.doneData=this.type==="final"?this.config.data:void 0,this.invoke=Object(l.y)(this.config.invoke).map(function(h,j){var m,y;if(Object(l.j)(h)){var x=Object(l.a)(e.id,j);return e.machine.options.services=Object(r.a)((m={},m[x]=h,m),e.machine.options.services),U({src:x,id:x})}else if(Object(l.m)(h.src)){var x=h.id||Object(l.a)(e.id,j);return U(Object(r.a)(Object(r.a)({},h),{id:x,src:h.src}))}else if(Object(l.j)(h.src)||Object(l.i)(h.src)){var x=h.id||Object(l.a)(e.id,j);return e.machine.options.services=Object(r.a)((y={},y[x]=h.src,y),e.machine.options.services),U(Object(r.a)(Object(r.a)({id:x},h),{src:x}))}else{var T=h.src;return U(Object(r.a)(Object(r.a)({id:Object(l.a)(e.id,j)},h),{src:T}))}}),this.activities=Object(l.y)(this.config.activities).concat(this.invoke).map(function(h){return Object(E.t)(h)}),this.transition=this.transition.bind(this),this.tags=Object(l.y)(this.config.tags)}return D.prototype._init=function(){this.__cache.transitions||Object(N.b)(this).forEach(function(a){return a.on})},D.prototype.withConfig=function(a,i){var t=this.options,n=t.actions,e=t.activities,o=t.guards,c=t.services,d=t.delays;return new D(this.config,{actions:Object(r.a)(Object(r.a)({},n),a.actions),activities:Object(r.a)(Object(r.a)({},e),a.activities),guards:Object(r.a)(Object(r.a)({},o),a.guards),services:Object(r.a)(Object(r.a)({},c),a.services),delays:Object(r.a)(Object(r.a)({},d),a.delays)},i!=null?i:this.context)},D.prototype.withContext=function(a){return new D(this.config,this.options,a)},Object.defineProperty(D.prototype,"context",{get:function(){return Object(l.i)(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:Object(l.p)(this.states,function(a){return a.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),D.prototype.toJSON=function(){return this.definition},Object.defineProperty(D.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var a=this.transitions;return this.__cache.on=a.reduce(function(i,t){return i[t.eventType]=i[t.eventType]||[],i[t.eventType].push(t),i},{})},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),D.prototype.getCandidates=function(a){if(this.__cache.candidates[a])return this.__cache.candidates[a];var i=a===g,t=this.transitions.filter(function(n){var e=n.eventType===a;return i?e:e||n.eventType===V});return this.__cache.candidates[a]=t,t},D.prototype.getDelayedTransitions=function(){var a=this,i=this.config.after;if(!i)return[];var t=function(e,o){var c=Object(l.i)(e)?"".concat(a.id,":delay[").concat(o,"]"):e,d=Object(E.a)(c,a.id);return a.onEntry.push(Object(E.l)(d,{delay:e})),a.onExit.push(Object(E.c)(d)),d},n=Object(l.f)(i)?i.map(function(e,o){var c=t(e.delay,o);return Object(r.a)(Object(r.a)({},e),{event:c})}):Object(l.c)(Object.keys(i).map(function(e,o){var c=i[e],d=Object(l.m)(c)?{target:c}:c,h=isNaN(+e)?e:+e,j=t(h,o);return Object(l.y)(d).map(function(m){return Object(r.a)(Object(r.a)({},m),{event:j,delay:h})})}));return n.map(function(e){var o=e.delay;return Object(r.a)(Object(r.a)({},a.formatTransition(e)),{delay:o})})},D.prototype.getStateNodes=function(a){var i,t=this;if(!a)return[];var n=a instanceof A.a?a.value:Object(l.G)(a,this.delimiter);if(Object(l.m)(n)){var e=this.getStateNode(n).initial;return e!==void 0?this.getStateNodes((i={},i[n]=e,i)):[this,this.states[n]]}var o=Object.keys(n),c=[this];return c.push.apply(c,Object(r.d)([],Object(r.b)(Object(l.c)(o.map(function(d){return t.getStateNode(d).getStateNodes(n[d])}))),!1)),c},D.prototype.handles=function(a){var i=Object(l.d)(a);return this.events.includes(i)},D.prototype.resolveState=function(a){var i=a instanceof A.a?a:A.a.create(a),t=Array.from(Object(N.d)([],this.getStateNodes(i.value)));return new A.a(Object(r.a)(Object(r.a)({},i),{value:this.resolve(i.value),configuration:t,done:Object(N.i)(t,this),tags:Object(N.f)(t),machine:this.machine}))},D.prototype.transitionLeafNode=function(a,i,t){var n=this.getStateNode(a),e=n.next(i,t);return!e||!e.transitions.length?this.next(i,t):e},D.prototype.transitionCompoundNode=function(a,i,t){var n=Object.keys(a),e=this.getStateNode(n[0]),o=e._transition(a[n[0]],i,t);return!o||!o.transitions.length?this.next(i,t):o},D.prototype.transitionParallelNode=function(a,i,t){var n,e,o={};try{for(var c=Object(r.e)(Object.keys(a)),d=c.next();!d.done;d=c.next()){var h=d.value,j=a[h];if(j){var m=this.getStateNode(h),y=m._transition(j,i,t);y&&(o[h]=y)}}}catch(f){n={error:f}}finally{try{d&&!d.done&&(e=c.return)&&e.call(c)}finally{if(n)throw n.error}}var x=Object.keys(o).map(function(f){return o[f]}),T=Object(l.c)(x.map(function(f){return f.transitions})),M=x.some(function(f){return f.transitions.length>0});if(!M)return this.next(i,t);var J=Object(l.c)(Object.keys(o).map(function(f){return o[f].configuration}));return{transitions:T,exitSet:Object(l.c)(x.map(function(f){return f.exitSet})),configuration:J,source:i,actions:Object(l.c)(Object.keys(o).map(function(f){return o[f].actions}))}},D.prototype._transition=function(a,i,t){return Object(l.m)(a)?this.transitionLeafNode(a,i,t):Object.keys(a).length===1?this.transitionCompoundNode(a,i,t):this.transitionParallelNode(a,i,t)},D.prototype.getTransitionData=function(a,i){return this._transition(a.value,a,Object(l.D)(i))},D.prototype.next=function(a,i){var t,n,e=this,o=i.name,c=[],d=[],h;try{for(var j=Object(r.e)(this.getCandidates(o)),m=j.next();!m.done;m=j.next()){var y=m.value,x=y.cond,T=y.in,M=a.context,J=T?Object(l.m)(T)&&K(T)?a.matches(Object(l.G)(this.getStateNodeById(T).path,this.delimiter)):Object(l.q)(Object(l.G)(T,this.delimiter),Object(l.u)(this.path.slice(0,-2))(a.value)):!0,f=!1;try{f=!x||Object(l.b)(this.machine,x,M,i,a)}catch(S){throw new Error("Unable to evaluate guard '".concat(x.name||x.type,"' in transition for event '").concat(o,"' in state node '").concat(this.id,`':
`).concat(S.message))}if(f&&J){y.target!==void 0&&(d=y.target),c.push.apply(c,Object(r.d)([],Object(r.b)(y.actions),!1)),h=y;break}}}catch(S){t={error:S}}finally{try{m&&!m.done&&(n=j.return)&&n.call(j)}finally{if(t)throw t.error}}if(h){if(!d.length)return{transitions:[h],exitSet:[],configuration:a.value?[this]:[],source:a,actions:c};var O=Object(l.c)(d.map(function(S){return e.getRelativeStateNodes(S,a.historyValue)})),p=!!h.internal;return{transitions:[h],exitSet:p?[]:Object(l.c)(d.map(function(S){return e.getPotentiallyReenteringNodes(S)})),configuration:O,source:a,actions:c}}},D.prototype.getPotentiallyReenteringNodes=function(a){if(this.order<a.order)return[this];for(var i=[],t=this,n=a;t&&t!==n;)i.push(t),t=t.parent;return t!==n?[]:(i.push(n),i)},D.prototype.getActions=function(a,i,t,n,e,o,c){var d,h,j,m,y=this,x=o?Object(N.d)([],this.getStateNodes(o.value)):[],T=new Set;try{for(var M=Object(r.e)(Array.from(a).sort(function(G,at){return G.order-at.order})),J=M.next();!J.done;J=M.next()){var f=J.value;(!Object(N.h)(x,f)||Object(N.h)(t.exitSet,f)||f.parent&&T.has(f.parent))&&T.add(f)}}catch(G){d={error:G}}finally{try{J&&!J.done&&(h=M.return)&&h.call(M)}finally{if(d)throw d.error}}try{for(var O=Object(r.e)(x),p=O.next();!p.done;p=O.next()){var f=p.value;(!Object(N.h)(a,f)||Object(N.h)(t.exitSet,f.parent))&&t.exitSet.push(f)}}catch(G){j={error:G}}finally{try{p&&!p.done&&(m=O.return)&&m.call(O)}finally{if(j)throw j.error}}t.exitSet.sort(function(G,at){return at.order-G.order});var S=Array.from(T).sort(function(G,at){return G.order-at.order}),F=new Set(t.exitSet),Z=Object(l.c)(S.map(function(G){var at=[];if(G.type!=="final")return at;var s=G.parent;if(!s.parent)return at;at.push(Object(E.d)(G.id,G.doneData),Object(E.d)(s.id,G.doneData?Object(l.n)(G.doneData,n,e):void 0));var I=s.parent;return I.type==="parallel"&&Object(N.c)(I).every(function(C){return Object(N.i)(t.configuration,C)})&&at.push(Object(E.d)(I.id)),at})),tt=S.map(function(G){var at=G.onEntry,s=G.activities.map(function(I){return Object(E.p)(I)});return{type:"entry",actions:Object(E.s)(c?Object(r.d)(Object(r.d)([],Object(r.b)(at),!1),Object(r.b)(s),!1):Object(r.d)(Object(r.d)([],Object(r.b)(s),!1),Object(r.b)(at),!1),y.machine.options.actions)}}).concat({type:"state_done",actions:Z.map(E.j)}),rt=Array.from(F).map(function(G){return{type:"exit",actions:Object(E.s)(Object(r.d)(Object(r.d)([],Object(r.b)(G.onExit),!1),Object(r.b)(G.activities.map(function(at){return Object(E.q)(at)})),!1),y.machine.options.actions)}}),q=rt.concat({type:"transition",actions:Object(E.s)(t.actions,this.machine.options.actions)}).concat(tt);if(i){var et=Object(E.s)(Object(l.c)(Object(r.d)([],Object(r.b)(a),!1).sort(function(G,at){return at.order-G.order}).map(function(G){return G.onExit})),this.machine.options.actions).filter(function(G){return G.type!==Q.k&&(G.type!==Q.l||!!G.to&&G.to!==P.b.Internal)});return q.concat({type:"stop",actions:et})}return q},D.prototype.transition=function(a,i,t,n){a===void 0&&(a=this.initialState);var e=Object(l.D)(i),o;if(a instanceof A.a)o=t===void 0?a:this.resolveState(A.a.from(a,t));else{var c=Object(l.m)(a)?this.resolve(Object(l.v)(this.getResolvedPath(a))):this.resolve(a),d=t!=null?t:this.machine.context;o=this.resolveState(A.a.from(c,d))}if(!b.a&&e.name===V)throw new Error("An event cannot have the wildcard type ('".concat(V,"')"));if(this.strict&&!this.events.includes(e.name)&&!Object(l.h)(e.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(e.name,"'"));var h=this._transition(o.value,o,e)||{transitions:[],configuration:[],exitSet:[],source:o,actions:[]},j=Object(N.d)([],this.getStateNodes(o.value)),m=h.configuration.length?Object(N.d)(j,h.configuration):j;return h.configuration=Object(r.d)([],Object(r.b)(m),!1),this.resolveTransition(h,o,o.context,n,e)},D.prototype.resolveRaisedTransition=function(a,i,t,n){var e,o=a.actions;return a=this.transition(a,i,void 0,n),a._event=t,a.event=t.data,(e=a.actions).unshift.apply(e,Object(r.d)([],Object(r.b)(o),!1)),a},D.prototype.resolveTransition=function(a,i,t,n,e){var o,c,d,h,j=this;e===void 0&&(e=E.i);var m=a.configuration,y=!i||a.transitions.length>0,x=y?a.configuration:i?i.configuration:[],T=Object(N.i)(x,this),M=y?Object(N.g)(this.machine,m):void 0,J=i?i.historyValue?i.historyValue:a.source?this.machine.historyValue(i.value):void 0:void 0,f=this.getActions(new Set(x),T,a,t,e,i,n),O=i?Object(r.a)({},i.activities):{};try{for(var p=Object(r.e)(f),S=p.next();!S.done;S=p.next()){var F=S.value;try{for(var Z=(d=void 0,Object(r.e)(F.actions)),tt=Z.next();!tt.done;tt=Z.next()){var rt=tt.value;rt.type===Q.m?O[rt.activity.id||rt.activity.type]=rt:rt.type===Q.n&&(O[rt.activity.id||rt.activity.type]=!1)}}catch(st){d={error:st}}finally{try{tt&&!tt.done&&(h=Z.return)&&h.call(Z)}finally{if(d)throw d.error}}}}catch(st){o={error:st}}finally{try{S&&!S.done&&(c=p.return)&&c.call(p)}finally{if(o)throw o.error}}var q=Object(r.b)(Object(E.k)(this,i,t,e,f,n,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),et=q[0],G=q[1],at=Object(r.b)(Object(l.t)(et,function(st){return st.type===Q.k||st.type===Q.l&&st.to===P.b.Internal}),2),s=at[0],I=at[1],C=et.filter(function(st){var ft;return st.type===Q.m&&((ft=st.activity)===null||ft===void 0?void 0:ft.type)===Q.g}),L=C.reduce(function(st,ft){return st[ft.activity.id]=Object(R.b)(ft.activity,j.machine,G,e),st},i?Object(r.a)({},i.children):{}),w=new A.a({value:M||i.value,context:G,_event:e,_sessionid:i?i._sessionid:null,historyValue:M?J?Object(l.K)(J,M):void 0:i?i.historyValue:void 0,history:!M||a.source?i:void 0,actions:M?I:[],activities:M?O:i?i.activities:{},events:[],configuration:x,transitions:a.transitions,children:L,done:T,tags:Object(N.f)(x),machine:this}),z=t!==G;w.changed=e.name===Q.o||z;var H=w.history;H&&delete H.history;var k=!T&&(this._transient||m.some(function(st){return st._transient}));if(!y&&(!k||e.name===g))return w;var _=w;if(!T)for(k&&(_=this.resolveRaisedTransition(_,{type:Q.i},e,n));s.length;){var it=s.shift();_=this.resolveRaisedTransition(_,it._event,e,n)}var ct=_.changed||(H?!!_.actions.length||z||typeof H.value!=typeof _.value||!Object(A.d)(_.value,H.value):void 0);return _.changed=ct,_.history=H,_},D.prototype.getStateNode=function(a){if(K(a))return this.machine.getStateNodeById(a);if(!this.states)throw new Error("Unable to retrieve child state '".concat(a,"' from '").concat(this.id,"'; no child states exist."));var i=this.states[a];if(!i)throw new Error("Child state '".concat(a,"' does not exist on '").concat(this.id,"'"));return i},D.prototype.getStateNodeById=function(a){var i=K(a)?a.slice(Y.length):a;if(i===this.id)return this;var t=this.machine.idMap[i];if(!t)throw new Error("Child state node '#".concat(i,"' does not exist on machine '").concat(this.id,"'"));return t},D.prototype.getStateNodeByPath=function(a){if(typeof a=="string"&&K(a))try{return this.getStateNodeById(a.slice(1))}catch(e){}for(var i=Object(l.E)(a,this.delimiter).slice(),t=this;i.length;){var n=i.shift();if(!n.length)break;t=t.getStateNode(n)}return t},D.prototype.resolve=function(a){var i,t=this;if(!a)return this.initialStateValue||B;switch(this.type){case"parallel":return Object(l.p)(this.initialStateValue,function(e,o){return e?t.getStateNode(o).resolve(a[o]||e):B});case"compound":if(Object(l.m)(a)){var n=this.getStateNode(a);return n.type==="parallel"||n.type==="compound"?(i={},i[a]=n.initialStateValue,i):a}return Object.keys(a).length?Object(l.p)(a,function(e,o){return e?t.getStateNode(o).resolve(e):B}):this.initialStateValue||{};default:return a||B}},D.prototype.getResolvedPath=function(a){if(K(a)){var i=this.machine.idMap[a.slice(Y.length)];if(!i)throw new Error("Unable to find state node '".concat(a,"'"));return i.path}return Object(l.E)(a,this.delimiter)},Object.defineProperty(D.prototype,"initialStateValue",{get:function(){var a;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;var i;if(this.type==="parallel")i=Object(l.o)(this.states,function(t){return t.initialStateValue||B},function(t){return t.type!=="history"});else if(this.initial!==void 0){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));i=Object(N.j)(this.states[this.initial])?this.initial:(a={},a[this.initial]=this.states[this.initial].initialStateValue,a)}else i={};return this.__cache.initialStateValue=i,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),D.prototype.getInitialState=function(a,i){this._init();var t=this.getStateNodes(a);return this.resolveTransition({configuration:t,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,i!=null?i:this.machine.context,void 0)},Object.defineProperty(D.prototype,"initialState",{get:function(){var a=this.initialStateValue;if(!a)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(a)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"target",{get:function(){var a;if(this.type==="history"){var i=this.config;Object(l.m)(i.target)?a=K(i.target)?Object(l.v)(this.machine.getStateNodeById(i.target).path.slice(this.path.length-1)):i.target:a=i.target}return a},enumerable:!1,configurable:!0}),D.prototype.getRelativeStateNodes=function(a,i,t){return t===void 0&&(t=!0),t?a.type==="history"?a.resolveHistory(i):a.initialStateNodes:[a]},Object.defineProperty(D.prototype,"initialStateNodes",{get:function(){var a=this;if(Object(N.j)(this))return[this];if(this.type==="compound"&&!this.initial)return b.a||Object(l.L)(!1,"Compound state node '".concat(this.id,"' has no initial state.")),[this];var i=Object(l.F)(this.initialStateValue);return Object(l.c)(i.map(function(t){return a.getFromRelativePath(t)}))},enumerable:!1,configurable:!0}),D.prototype.getFromRelativePath=function(a){if(!a.length)return[this];var i=Object(r.b)(a),t=i[0],n=i.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(t,"' from node with no states"));var e=this.getStateNode(t);if(e.type==="history")return e.resolveHistory();if(!this.states[t])throw new Error("Child state '".concat(t,"' does not exist on '").concat(this.id,"'"));return this.states[t].getFromRelativePath(n)},D.prototype.historyValue=function(a){if(Object.keys(this.states).length)return{current:a||this.initialStateValue,states:Object(l.o)(this.states,function(i,t){if(!a)return i.historyValue();var n=Object(l.m)(a)?void 0:a[t];return i.historyValue(n||i.initialStateValue)},function(i){return!i.history})}},D.prototype.resolveHistory=function(a){var i=this;if(this.type!=="history")return[this];var t=this.parent;if(!a){var n=this.target;return n?Object(l.c)(Object(l.F)(n).map(function(o){return t.getFromRelativePath(o)})):t.initialStateNodes}var e=Object(l.r)(t.path,"states")(a).current;return Object(l.m)(e)?[t.getStateNode(e)]:Object(l.c)(Object(l.F)(e).map(function(o){return i.history==="deep"?t.getFromRelativePath(o):[t.states[o[0]]]}))},Object.defineProperty(D.prototype,"stateIds",{get:function(){var a=this,i=Object(l.c)(Object.keys(this.states).map(function(t){return a.states[t].stateIds}));return[this.id].concat(i)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"events",{get:function(){var a,i,t,n;if(this.__cache.events)return this.__cache.events;var e=this.states,o=new Set(this.ownEvents);if(e)try{for(var c=Object(r.e)(Object.keys(e)),d=c.next();!d.done;d=c.next()){var h=d.value,j=e[h];if(j.states)try{for(var m=(t=void 0,Object(r.e)(j.events)),y=m.next();!y.done;y=m.next()){var x=y.value;o.add("".concat(x))}}catch(T){t={error:T}}finally{try{y&&!y.done&&(n=m.return)&&n.call(m)}finally{if(t)throw t.error}}}}catch(T){a={error:T}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}return this.__cache.events=Array.from(o)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"ownEvents",{get:function(){var a=new Set(this.transitions.filter(function(i){return!(!i.target&&!i.actions.length&&i.internal)}).map(function(i){return i.eventType}));return Array.from(a)},enumerable:!1,configurable:!0}),D.prototype.resolveTarget=function(a){var i=this;if(a!==void 0)return a.map(function(t){if(!Object(l.m)(t))return t;var n=t[0]===i.delimiter;if(n&&!i.parent)return i.getStateNodeByPath(t.slice(1));var e=n?i.key+t:t;if(i.parent)try{var o=i.parent.getStateNodeByPath(e);return o}catch(c){throw new Error("Invalid transition definition for state node '".concat(i.id,`':
`).concat(c.message))}else return i.getStateNodeByPath(e)})},D.prototype.formatTransition=function(a){var i=this,t=Object(l.s)(a.target),n="internal"in a?a.internal:t?t.some(function(d){return Object(l.m)(d)&&d[0]===i.delimiter}):!0,e=this.machine.options.guards,o=this.resolveTarget(t),c=Object(r.a)(Object(r.a)({},a),{actions:Object(E.s)(Object(l.y)(a.actions)),cond:Object(l.A)(a.cond,e),target:o,source:this,internal:n,eventType:a.event,toJSON:function(){return Object(r.a)(Object(r.a)({},c),{target:c.target?c.target.map(function(d){return"#".concat(d.id)}):void 0,source:"#".concat(i.id)})}});return c},D.prototype.formatTransitions=function(){var a,i,t=this,n;if(!this.config.on)n=[];else if(Array.isArray(this.config.on))n=this.config.on;else{var e=this.config.on,o=V,c=e[o],d=c===void 0?[]:c,h=Object(r.c)(e,[typeof o=="symbol"?o:o+""]);n=Object(l.c)(Object.keys(h).map(function(O){!b.a&&O===g&&Object(l.L)(!1,"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. "+'Please check the `on` configuration for "#'.concat(t.id,'".'));var p=Object(l.H)(O,h[O]);return b.a||nt(t,O,p),p}).concat(Object(l.H)(V,d)))}var j=this.config.always?Object(l.H)("",this.config.always):[],m=this.config.onDone?Object(l.H)(String(Object(E.d)(this.id)),this.config.onDone):[];b.a||Object(l.L)(!(this.config.onDone&&!this.parent),'Root nodes cannot have an ".onDone" transition. Please check the config of "'.concat(this.id,'".'));var y=Object(l.c)(this.invoke.map(function(O){var p=[];return O.onDone&&p.push.apply(p,Object(r.d)([],Object(r.b)(Object(l.H)(String(Object(E.e)(O.id)),O.onDone)),!1)),O.onError&&p.push.apply(p,Object(r.d)([],Object(r.b)(Object(l.H)(String(Object(E.f)(O.id)),O.onError)),!1)),p})),x=this.after,T=Object(l.c)(Object(r.d)(Object(r.d)(Object(r.d)(Object(r.d)([],Object(r.b)(m),!1),Object(r.b)(y),!1),Object(r.b)(n),!1),Object(r.b)(j),!1).map(function(O){return Object(l.y)(O).map(function(p){return t.formatTransition(p)})}));try{for(var M=Object(r.e)(x),J=M.next();!J.done;J=M.next()){var f=J.value;T.push(f)}}catch(O){a={error:O}}finally{try{J&&!J.done&&(i=M.return)&&i.call(M)}finally{if(a)throw a.error}}return T},D}()},48:function(ut,v,u){"use strict";u.d(v,"a",function(){return c}),u.d(v,"b",function(){return e}),u.d(v,"c",function(){return a}),u.d(v,"d",function(){return d}),u.d(v,"e",function(){return h}),u.d(v,"f",function(){return j}),u.d(v,"g",function(){return y}),u.d(v,"h",function(){return b}),u.d(v,"i",function(){return E}),u.d(v,"j",function(){return W}),u.d(v,"k",function(){return J}),u.d(v,"l",function(){return g}),u.d(v,"m",function(){return V}),u.d(v,"n",function(){return B}),u.d(v,"o",function(){return K}),u.d(v,"p",function(){return i}),u.d(v,"q",function(){return t}),u.d(v,"r",function(){return $}),u.d(v,"s",function(){return N}),u.d(v,"t",function(){return R});var r=u(16),l=u(54),P=u(50),A=u(15),Q=u(68),E=Object(A.D)({type:P.f});function b(f,O){return O&&O[f]||void 0}function $(f,O){var p;if(Object(A.m)(f)||typeof f=="number"){var S=b(f,O);Object(A.i)(S)?p={type:f,exec:S}:S?p=S:p={type:f,exec:void 0}}else if(Object(A.i)(f))p={type:f.name||f.toString(),exec:f};else{var S=b(f.type,O);if(Object(A.i)(S))p=Object(r.a)(Object(r.a)({},f),{exec:S});else if(S){var F=S.type||f.type;p=Object(r.a)(Object(r.a)(Object(r.a)({},S),f),{type:F})}else p=f}return p}var N=function(f,O){if(!f)return[];var p=Object(A.f)(f)?f:[f];return p.map(function(S){return $(S,O)})};function R(f){var O=$(f);return Object(r.a)(Object(r.a)({id:Object(A.m)(f)?f:O.id},O),{type:O.type})}function W(f){return Object(A.m)(f)?{type:P.k,event:f}:g(f,{to:l.b.Internal})}function U(f){return{type:P.k,_event:Object(A.D)(f.event)}}function g(f,O){return{to:O?O.to:void 0,type:P.l,event:Object(A.i)(f)?f:Object(A.z)(f),delay:O?O.delay:void 0,id:O&&O.id!==void 0?O.id:Object(A.i)(f)?f.name:Object(A.d)(f)}}function Y(f,O,p,S){var F={_event:p},Z=Object(A.D)(Object(A.i)(f.event)?f.event(O,p.data,F):f.event),tt;if(Object(A.m)(f.delay)){var rt=S&&S[f.delay];tt=Object(A.i)(rt)?rt(O,p.data,F):rt}else tt=Object(A.i)(f.delay)?f.delay(O,p.data,F):f.delay;var q=Object(A.i)(f.to)?f.to(O,p.data,F):f.to;return Object(r.a)(Object(r.a)({},f),{to:q,_event:Z,event:Z.data,delay:tt})}function V(f,O){return g(f,Object(r.a)(Object(r.a)({},O),{to:l.b.Parent}))}function B(f,O,p){return g(O,Object(r.a)(Object(r.a)({},p),{to:f}))}function K(){return V(P.o)}function X(f,O){return g(f,Object(r.a)(Object(r.a)({},O),{to:function(p,S,F){var Z=F._event;return Z.origin}}))}var nt=function(f,O){return{context:f,event:O}};function ot(f,O){return f===void 0&&(f=nt),{type:P.h,label:O,expr:f}}var D=function(f,O,p){return Object(r.a)(Object(r.a)({},f),{value:Object(A.m)(f.expr)?f.expr:f.expr(O,p.data,{_event:p})})},a=function(f){return{type:P.b,sendId:f}};function i(f){var O=R(f);return{type:l.a.Start,activity:O,exec:void 0}}function t(f){var O=Object(A.i)(f)?f:R(f);return{type:l.a.Stop,activity:O,exec:void 0}}function n(f,O,p){var S=Object(A.i)(f.activity)?f.activity(O,p.data):f.activity,F=typeof S=="string"?{id:S}:S,Z={type:l.a.Stop,activity:F};return Z}var e=function(f){return{type:P.a,assignment:f}};function o(f){return typeof f=="object"&&"type"in f}function c(f,O){var p=O?"#".concat(O):"";return"".concat(l.a.After,"(").concat(f,")").concat(p)}function d(f,O){var p="".concat(l.a.DoneState,".").concat(f),S={type:p,data:O};return S.toString=function(){return p},S}function h(f,O){var p="".concat(l.a.DoneInvoke,".").concat(f),S={type:p,data:O};return S.toString=function(){return p},S}function j(f,O){var p="".concat(l.a.ErrorPlatform,".").concat(f),S={type:p,data:O};return S.toString=function(){return p},S}function m(f){return{type:l.a.Pure,get:f}}function y(f,O){if(!Q.a&&(!f||typeof f=="function")){var p=f;f=function(){for(var S=[],F=0;F<arguments.length;F++)S[F]=arguments[F];var Z=typeof p=="function"?p.apply(void 0,Object(r.d)([],Object(r.b)(S),!1)):p;if(!Z)throw new Error("Attempted to forward event to undefined actor. This risks an infinite loop in the sender.");return Z}}return g(function(S,F){return F},Object(r.a)(Object(r.a)({},O),{to:f}))}function x(f,O){return V(function(p,S,F){return{type:P.d,data:Object(A.i)(f)?f(p,S,F):f}},Object(r.a)(Object(r.a)({},O),{to:l.b.Parent}))}function T(f){return{type:l.a.Choose,conds:f}}var M=function(f){var O,p,S=[];try{for(var F=Object(r.e)(f),Z=F.next();!Z.done;Z=F.next())for(var tt=Z.value,rt=0;rt<tt.actions.length;){if(tt.actions[rt].type===P.a){S.push(tt.actions[rt]),tt.actions.splice(rt,1);continue}rt++}}catch(q){O={error:q}}finally{try{Z&&!Z.done&&(p=F.return)&&p.call(F)}finally{if(O)throw O.error}}return S};function J(f,O,p,S,F,Z,tt){tt===void 0&&(tt=!1);var rt=tt?[]:M(F),q=rt.length?Object(A.J)(p,S,rt,O):p,et=tt?[p]:void 0,G=[];function at(C,L){var w;switch(L.type){case P.k:return U(L);case P.l:var z=Y(L,q,S,f.options.delays);return Q.a||Object(A.L)(!Object(A.m)(L.delay)||typeof z.delay=="number","No delay reference for delay expression '".concat(L.delay,"' was found on machine '").concat(f.id,"'")),Z&&z.to!==l.b.Internal&&(C==="entry"?G.push(z):Z==null||Z(z,q,S)),z;case P.h:{var H=D(L,q,S);return Z==null||Z(H,q,S),H}case P.c:{var k=L,_=(w=k.conds.find(function(jt){var ht=Object(A.A)(jt.cond,f.options.guards);return!ht||Object(A.b)(f,ht,q,S,Z?void 0:O)}))===null||w===void 0?void 0:w.actions;if(!_)return[];var it=Object(r.b)(J(f,O,q,S,[{type:C,actions:N(Object(A.y)(_),f.options.actions)}],Z,tt),2),ct=it[0],st=it[1];return q=st,et==null||et.push(q),ct}case P.j:{var _=L.get(q,S.data);if(!_)return[];var ft=Object(r.b)(J(f,O,q,S,[{type:C,actions:N(Object(A.y)(_),f.options.actions)}],Z,tt),2),lt=ft[0],vt=ft[1];return q=vt,et==null||et.push(q),lt}case P.n:{var H=n(L,q,S);return Z==null||Z(H,p,S),H}case P.a:{q=Object(A.J)(q,S,[L],Z?void 0:O),et==null||et.push(q);break}default:var dt=$(L,f.options.actions),yt=dt.exec;if(Z)Z(dt,q,S);else if(yt&&et){var bt=et.length-1;dt=Object(r.a)(Object(r.a)({},dt),{exec:function(jt){for(var ht=[],Ot=1;Ot<arguments.length;Ot++)ht[Ot-1]=arguments[Ot];yt.apply(void 0,Object(r.d)([et[bt]],Object(r.b)(ht),!1))}})}return dt}}function s(C){var L,w,z=[];try{for(var H=Object(r.e)(C.actions),k=H.next();!k.done;k=H.next()){var _=k.value,it=at(C.type,_);it&&(z=z.concat(it))}}catch(ct){L={error:ct}}finally{try{k&&!k.done&&(w=H.return)&&w.call(H)}finally{if(L)throw L.error}}return G.forEach(function(ct){Z(ct,q,S)}),G.length=0,z}var I=Object(A.c)(F.map(s));return[I,q]}},481:function(ut,v,u){"use strict";u.d(v,"a",function(){return l});var r=u(48),l=r.b,P=r.l,A=r.n,Q=r.m,E=r.o,b=r.g,$=r.e,N=r.j},482:function(ut,v,u){"use strict";u.d(v,"a",function(){return E});var r=u(48),l=u(214),P=u(15);function A(b,$){return{transition:b,initialState:$}}function Q(b){var $={error:void 0,data:void 0,status:"pending"};return{transition:function(N,R,W){var U=W.parent,g=W.id,Y=W.observers;switch(R.type){case"fulfill":return U==null||U.send(Object(r.e)(g,R.data)),{error:void 0,data:R.data,status:"fulfilled"};case"reject":return U==null||U.send(Object(r.f)(g,R.error)),Y.forEach(function(V){V.error(R.error)}),{error:R.error,data:void 0,status:"rejected"};default:return N}},initialState:$,start:function(N){var R=N.self;return b().then(function(W){R.send({type:"fulfill",data:W})},function(W){R.send({type:"reject",error:W})}),$}}}function E(b,$){$===void 0&&($={});var N=b.initialState,R=new Set,W=[],U=!1,g=function(){if(!U){for(U=!0;W.length>0;){var B=W.shift();N=b.transition(N,B,V),R.forEach(function(K){return K.next(N)})}U=!1}},Y=Object(l.d)({id:$.id,send:function(B){W.push(B),g()},getSnapshot:function(){return N},subscribe:function(B,K,X){var nt=Object(P.C)(B,K,X);return R.add(nt),nt.next(N),{unsubscribe:function(){R.delete(nt)}}}}),V={parent:$.parent,self:Y,id:$.id||"anonymous",observers:R};return N=b.start?b.start(V):N,Y}},50:function(ut,v,u){"use strict";u.d(v,"a",function(){return $}),u.d(v,"b",function(){return E}),u.d(v,"c",function(){return X}),u.d(v,"d",function(){return B}),u.d(v,"e",function(){return V}),u.d(v,"f",function(){return U}),u.d(v,"g",function(){return g}),u.d(v,"h",function(){return W}),u.d(v,"i",function(){return b}),u.d(v,"j",function(){return nt}),u.d(v,"k",function(){return A}),u.d(v,"l",function(){return Q}),u.d(v,"m",function(){return l}),u.d(v,"n",function(){return P}),u.d(v,"o",function(){return K});var r=u(54),l=r.a.Start,P=r.a.Stop,A=r.a.Raise,Q=r.a.Send,E=r.a.Cancel,b=r.a.NullEvent,$=r.a.Assign,N=r.a.After,R=r.a.DoneState,W=r.a.Log,U=r.a.Init,g=r.a.Invoke,Y=r.a.ErrorExecution,V=r.a.ErrorPlatform,B=r.a.ErrorCustom,K=r.a.Update,X=r.a.Choose,nt=r.a.Pure},54:function(ut,v,u){"use strict";u.d(v,"a",function(){return r}),u.d(v,"b",function(){return l});var r;(function(P){P.Start="xstate.start",P.Stop="xstate.stop",P.Raise="xstate.raise",P.Send="xstate.send",P.Cancel="xstate.cancel",P.NullEvent="",P.Assign="xstate.assign",P.After="xstate.after",P.DoneState="done.state",P.DoneInvoke="done.invoke",P.Log="xstate.log",P.Init="xstate.init",P.Invoke="xstate.invoke",P.ErrorExecution="error.execution",P.ErrorCommunication="error.communication",P.ErrorPlatform="error.platform",P.ErrorCustom="xstate.error",P.Update="xstate.update",P.Pure="xstate.pure",P.Choose="xstate.choose"})(r||(r={}));var l;(function(P){P.Parent="#_parent",P.Internal="#_internal"})(l||(l={}))},601:function(ut,v,u){"use strict";u.d(v,"a",function(){return A});var r=u(412),l=u(68),P=!1;function A(E,b,$){return $===void 0&&($=E.context),new r.a(E,b,$)}function Q(E,b){return!l.a&&!("predictableActionArguments"in E)&&!P&&(P=!0,console.warn("It is highly recommended to set `predictableActionArguments` to `true` when using `createMachine`. https://xstate.js.org/docs/guides/actions.html")),new r.a(E,b)}},616:function(ut,v,u){"use strict";(function(r){u.d(v,"a",function(){return P}),u.d(v,"b",function(){return Q});var l=u(68);function P(){if(typeof globalThis!="undefined")return globalThis;if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof r!="undefined")return r;l.a||console.warn("XState could not find a global object in this environment. Please let the maintainers know and raise an issue here: https://github.com/statelyai/xstate/issues")}function A(){var E=P();if(E&&"__xstate__"in E)return E.__xstate__}function Q(E){if(P()){var b=A();b&&b.register(E)}}}).call(this,u(126))},68:function(ut,v,u){"use strict";u.d(v,"a",function(){return r});var r=!0},94:function(ut,v,u){"use strict";u.d(v,"a",function(){return A}),u.d(v,"b",function(){return E}),u.d(v,"c",function(){return Q}),u.d(v,"d",function(){return b}),u.d(v,"e",function(){return Y}),u.d(v,"f",function(){return V}),u.d(v,"g",function(){return R}),u.d(v,"h",function(){return W}),u.d(v,"i",function(){return g}),u.d(v,"j",function(){return P}),u.d(v,"k",function(){return U});var r=u(16),l=u(15),P=function(B){return B.type==="atomic"||B.type==="final"};function A(B){return Object.keys(B.states).map(function(K){return B.states[K]})}function Q(B){return A(B).filter(function(K){return K.type!=="history"})}function E(B){var K=[B];return P(B)?K:K.concat(Object(l.c)(Q(B).map(E)))}function b(B,K){var X,nt,ot,D,a,i,t,n,e=new Set(B),o=N(e),c=new Set(K);try{for(var d=Object(r.e)(c),h=d.next();!h.done;h=d.next())for(var j=h.value,m=j.parent;m&&!c.has(m);)c.add(m),m=m.parent}catch(S){X={error:S}}finally{try{h&&!h.done&&(nt=d.return)&&nt.call(d)}finally{if(X)throw X.error}}var y=N(c);try{for(var x=Object(r.e)(c),T=x.next();!T.done;T=x.next()){var j=T.value;if(j.type==="compound"&&(!y.get(j)||!y.get(j).length))o.get(j)?o.get(j).forEach(function(F){return c.add(F)}):j.initialStateNodes.forEach(function(F){return c.add(F)});else if(j.type==="parallel")try{for(var M=(a=void 0,Object(r.e)(Q(j))),J=M.next();!J.done;J=M.next()){var f=J.value;c.has(f)||(c.add(f),o.get(f)?o.get(f).forEach(function(F){return c.add(F)}):f.initialStateNodes.forEach(function(F){return c.add(F)}))}}catch(F){a={error:F}}finally{try{J&&!J.done&&(i=M.return)&&i.call(M)}finally{if(a)throw a.error}}}}catch(S){ot={error:S}}finally{try{T&&!T.done&&(D=x.return)&&D.call(x)}finally{if(ot)throw ot.error}}try{for(var O=Object(r.e)(c),p=O.next();!p.done;p=O.next())for(var j=p.value,m=j.parent;m&&!c.has(m);)c.add(m),m=m.parent}catch(S){t={error:S}}finally{try{p&&!p.done&&(n=O.return)&&n.call(O)}finally{if(t)throw t.error}}return c}function $(B,K){var X=K.get(B);if(!X)return{};if(B.type==="compound"){var nt=X[0];if(nt){if(P(nt))return nt.key}else return{}}var ot={};return X.forEach(function(D){ot[D.key]=$(D,K)}),ot}function N(B){var K,X,nt=new Map;try{for(var ot=Object(r.e)(B),D=ot.next();!D.done;D=ot.next()){var a=D.value;nt.has(a)||nt.set(a,[]),a.parent&&(nt.has(a.parent)||nt.set(a.parent,[]),nt.get(a.parent).push(a))}}catch(i){K={error:i}}finally{try{D&&!D.done&&(X=ot.return)&&X.call(ot)}finally{if(K)throw K.error}}return nt}function R(B,K){var X=b([B],K);return $(B,N(X))}function W(B,K){return Array.isArray(B)?B.some(function(X){return X===K}):B instanceof Set?B.has(K):!1}function U(B){return Object(r.d)([],Object(r.b)(new Set(Object(l.c)(Object(r.d)([],Object(r.b)(B.map(function(K){return K.ownEvents})),!1)))),!1)}function g(B,K){return K.type==="compound"?Q(K).some(function(X){return X.type==="final"&&W(B,X)}):K.type==="parallel"?Q(K).every(function(X){return g(B,X)}):!1}function Y(B){return B===void 0&&(B=[]),B.reduce(function(K,X){return X.meta!==void 0&&(K[X.id]=X.meta),K},{})}function V(B){return new Set(Object(l.c)(B.map(function(K){return K.tags})))}}}]);
